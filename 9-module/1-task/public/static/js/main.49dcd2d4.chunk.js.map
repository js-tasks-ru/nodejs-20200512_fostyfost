{"version":3,"sources":["serviceWorker.js","store/modules/auth/constants.js","store/modules/auth/reducer.js","store/modules/categories/constants.js","store/modules/categories/reducer.js","store/modules/chat/constants.js","store/modules/chat/reducer.js","store/modules/orders/constants.js","store/modules/orders/reducer.js","store/modules/products/constants.js","store/modules/products/reducer.js","store/index.js","components/Modal/ModalBtnBack.js","components/Modal/ModalBtnClose.js","components/Modal/Modal.js","components/Chat/ChatMessage.js","components/Chat/ChatInner.js","network.js","store/modules/chat/actions.js","store/modules/auth/actions.js","components/Chat/Chat.js","components/ModalContextMenu.js","store/modules/helpers/useModal.js","components/ModalMenu/ModalAsItem.js","components/ModalMenu/ModalMenu.js","store/modules/categories/actions.js","components/Header.js","components/Footer.js","components/Application.js","components/Dropdown.js","components/ListGroupMenu.js","components/HomeCarousel.js","components/Card.js","components/Recommendations.js","components/Loader.js","store/modules/products/actions.js","components/Home.js","components/Form.js","components/Login.js","components/OAuthCallback.js","components/Register.js","components/Confirm.js","components/CategoriesSideBar.js","components/Category.js","components/Search.js","components/Product/ProductCarouselIndicators.js","components/Product/ProductCarousel.js","components/Product/Product.js","components/Checkout.js","store/modules/orders/actions.js","index.js"],"names":["Boolean","window","location","hostname","match","LoginRequest","Symbol","LoginFailure","LoginSuccess","RegisterRequest","RegisterFailure","RegisterSuccess","ConfirmRequest","ConfirmFailure","ConfirmSuccess","OAuthRequest","OAuthFailure","OAuthCallbackRequest","OAuthCallbackFailure","OAuthCallbackSuccess","FetchMeRequest","FetchMeSuccess","FetchMeFailure","initialState","token","localStorage","getItem","login","error","processing","registration","errors","complete","confirmation","oauth","oauthCallback","me","fetching","profile","FetchCategoriesRequest","FetchCategoriesSuccess","FetchCategoriesFailure","WebsocketConnected","WebsocketDisconnected","Message","FetchMessagesRequest","FetchMessagesSuccess","FetchMessagesFailure","isWebsocketConnected","messages","CheckoutRequest","CheckoutSuccess","CheckoutFailure","draft","FetchRecommendationsRequest","FetchRecommendationsSuccess","FetchRecommendationsFailure","FetchProductsByCategoryRequest","FetchProductsByCategorySuccess","FetchProductsByCategoryFailure","FetchProductsByQueryRequest","FetchProductsByQuerySuccess","FetchProductsByQueryFailure","FetchProductByIdRequest","FetchProductByIdSuccess","FetchProductByIdFailure","recommendations","byCategory","byQuery","byId","createStore","combineReducers","auth","state","arguments","length","undefined","action","type","Object","objectSpread","setItem","categories","chat","concat","message","orders","data","defineProperty","order","products","category","query","id","product","applyMiddleware","thunkMiddleware","ModalBtnBack","_ref","handleToggleModal","react_default","a","createElement","Button","color","className","onClick","aria-label","src","alt","Modal","title","content","isBackBtn","isCloseBtn","isOpen","rest","objectWithoutProperties","es_Modal","assign","toggle","ModalHeader","Modal_ModalBtnBack","ModalBtnClose","ChatMessage","income","outcome","date","from","cx","-income","-outcome","d","Date","getHours","getMinutes","formatDate","ChatInner","sendMessage","_useState","useState","_useState2","slicedToArray","msg","setMsg","map","Chat_ChatMessage","key","user","text","Form","onSubmit","e","preventDefault","Input","value","onChange","target","axios","create","validateStatus","status","removeItem","reload","fetchMessages","dispatch","getState","client","get","headers","Authorization","then","response","catch","fetchMe","socket","connect","bindActionCreators","props","isCollapsed","isFixed","setIsOpen","_sendMessage","emit","displayName","now","useEffect","io","on","fixed","Collapse","Chat_ChatInner","ModalContextMenu","item","react_router_dom","to","useModal","ModalAsItem","context","isChat","passedModalData","useContext","_useModal","Fragment","components_Modal_Modal","modalComponent","OpeningModalContext","React","createContext","ModalProvider","Provider","ModalMenu_ModalAsItem","withRouter","_ref2","history","setQuery","ModalMenu_ModalProvider","Chat_Chat","inline","FormGroup","style","marginBottom","name","placeholder","event","push","components_ModalContextMenu","subcategories","subcategory","fetchCategories","mapDispatchToProps","values","queryString","parse","search","isOpenMenu","setIsOpenMenu","_useState3","_useState4","pathname","Navbar","light","expand","NavbarToggler","components_ModalMenu_ModalMenu","navbar","Nav","NavItem","outline","href","Footer","children","components_Header","role","components_Footer","ListGroupMenuDropdown","dropdownTitle","dropdownItems","setToggleState","Dropdown","DropdownToggle","caret","tag","DropdownMenu","DropdownItem","ListGroupMenu","ListGroup","ListGroupItem","components_Dropdown","items","originalTitle","altText","captionTitle","captionBtnText","captionBtnIconSrc","HomeCarousel","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","activeIndex","next","bind","assertThisInitialized","previous","goToIndex","onExiting","onExited","animating","nextIndex","setState","newIndex","_this2","slides","reduce","result","s","find","CarouselItem","Carousel","es_CarouselIndicators","onClickHandler","CarouselControl","direction","directionText","Component","CardComponent","url","cardTitle","cardImgSrc","cardPrice","cardRate","cardRateAmount","cardOldPrice","discount","Card","Link","CardImg","width","CardBody","CardTitle","CardText","formatter","Intl","NumberFormat","currency","Recommendations","CardDeck","components_Card","images","format","price","Loader","fetchProductById","fetchRecommendations","components_ListGroupMenu","components_HomeCarousel","components_Recommendations","changeState","setValue","fields","field","htmlFor","label","required","disabled","submitButton","loginAction","email","password","post","react_router","Form_Form","providerMap","vkontakte","fb","github","oauthCallbackAction","_ref5","provider","code","params","URLSearchParams","registerAction","validated","confirmAction","_ref3","verificationToken","CategoriesSideBar","selectedCategoryId","selectCategoryId","fetchProductsByCategory","selectedSubcategory","setSelectedSubcategory","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","iterator","done","err","return","fetchProductsByQuery","mapToCssModules","cssModule","split","c","join","CarouselIndicators","listClasses","indicators","idx","indicatorClasses","active","ProductCarousel","ProductCarouselIndicators","Product_ProductCarousel","description","checkout","replace","phone","setPhone","_useState5","_useState6","address","setAddress","keys","Alert","Label","for","size","ReactDOM","render","es","store","components_Application","exact","path","component","Home","Login","OAuthCallback","Register","Confirm","Category","Search","Product","Checkout","document","getElementById","navigator","serviceWorker","ready","unregister"],"mappings":"uNAYoBA,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,sFClBOC,EAAeC,OAAO,gBACtBC,EAAeD,OAAO,gBACtBE,EAAeF,OAAO,gBAEtBG,EAAkBH,OAAO,mBACzBI,EAAkBJ,OAAO,mBACzBK,EAAkBL,OAAO,mBAEzBM,EAAiBN,OAAO,kBACxBO,EAAiBP,OAAO,kBACxBQ,EAAiBR,OAAO,kBAExBS,EAAeT,OAAO,gBACtBU,EAAeV,OAAO,gBAEtBW,EAAuBX,OAAO,wBAC9BY,EAAuBZ,OAAO,wBAC9Ba,EAAuBb,OAAO,wBAE9Bc,EAAiBd,OAAO,kBACxBe,EAAiBf,OAAO,kBACxBgB,EAAiBhB,OAAO,kBCX/BiB,EAAe,CACnBC,MAHYC,aAAaC,QAAQ,UAAY,KAI7CC,MAAO,CACLC,MAAO,KACPC,YAAY,GAEdC,aAAc,CACZC,OAAQ,KACRF,YAAY,EACZG,UAAU,GAEZC,aAAc,CACZL,MAAO,KACPC,YAAY,GAEdK,MAAO,CACLN,MAAO,KACPC,YAAY,GAEdM,cAAe,CACbP,MAAO,KACPC,YAAY,GAEdO,GAAI,CACFC,UAAU,EACVC,QAAS,OCnCN,IAAMC,EAAyBjC,OAAO,0BAChCkC,EAAyBlC,OAAO,0BAChCmC,EAAyBnC,OAAO,0BCEvCiB,EAAe,GCJd,IAAMmB,EAAqBpC,OAAO,sBAC5BqC,EAAwBrC,OAAO,yBAC/BsC,EAAUtC,OAAO,WAEjBuC,EAAuBvC,OAAO,wBAC9BwC,EAAuBxC,OAAO,wBAC9ByC,EAAuBzC,OAAO,wBCArCiB,EAAe,CACnByB,sBAAsB,EACtBC,SAAU,gBCRCC,EAAkB5C,OAAO,mBACzB6C,EAAkB7C,OAAO,mBACzB8C,EAAkB9C,OAAO,mBCAhCiB,EAAe,CACnB8B,MAAO,CACLhB,UAAU,EACVN,OAAQ,OCLL,IAAMuB,EAA8BhD,OAAO,+BACrCiD,EAA8BjD,OAAO,+BACrCkD,EAA8BlD,OAAO,+BAErCmD,EAAiCnD,OAAO,kCACxCoD,EAAiCpD,OAAO,kCACxCqD,EAAiCrD,OAAO,kCAExCsD,EAA8BtD,OAAO,+BACrCuD,GAA8BvD,OAAO,+BACrCwD,GAA8BxD,OAAO,+BAErCyD,GAA0BzD,OAAO,2BACjC0D,GAA0B1D,OAAO,2BACjC2D,GAA0B3D,OAAO,2BCLxCiB,GAAe,CACnB2C,gBAAiB,GACjBC,WAAY,GACZC,QAAS,GACTC,KAAM,ICJOC,mBACbC,YAAgB,CACdC,KT4BW,WAA+C,IAA9BC,EAA8BC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAtBnD,EAAcsD,EAAQH,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAC5D,OAAQC,EAAOC,MACb,KAAKzE,EACH,OAAO0E,OAAAC,EAAA,EAAAD,CAAA,GACFN,EADL,CAEE9C,MAAMoD,OAAAC,EAAA,EAAAD,CAAA,GAAKxD,EAAaI,MAAnB,CAA0BE,YAAY,MAE/C,KAAKrB,EAEH,OADAiB,aAAawD,QAAQ,QAASJ,EAAOrD,OAC9BuD,OAAAC,EAAA,EAAAD,CAAA,GACFN,EADL,CAEE9C,MAAOJ,EAAaI,MACpBH,MAAOqD,EAAOrD,QAElB,KAAKjB,EACH,OAAOwE,OAAAC,EAAA,EAAAD,CAAA,GACFN,EADL,CAEE9C,MAAMoD,OAAAC,EAAA,EAAAD,CAAA,GAAKxD,EAAaI,MAAnB,CAA0BC,MAAOiD,EAAOjD,MAAOC,YAAY,MAEpE,KAAKpB,EACH,OAAOsE,OAAAC,EAAA,EAAAD,CAAA,GACFN,EADL,CAEE3C,aAAaiD,OAAAC,EAAA,EAAAD,CAAA,GAAKxD,EAAaO,aAAnB,CAAiCD,YAAY,MAE7D,KAAKlB,EACH,OAAOoE,OAAAC,EAAA,EAAAD,CAAA,GACFN,EADL,CAEE3C,aAAaiD,OAAAC,EAAA,EAAAD,CAAA,GAAKxD,EAAaO,aAAnB,CAAiCD,YAAY,EAAOG,UAAU,MAE9E,KAAKtB,EACH,OAAOqE,OAAAC,EAAA,EAAAD,CAAA,GACFN,EADL,CAEE3C,aAAaiD,OAAAC,EAAA,EAAAD,CAAA,GAAKxD,EAAaO,aAAnB,CAAiCC,OAAQ8C,EAAO9C,OAAQF,YAAY,MAEpF,KAAKjB,EACH,OAAOmE,OAAAC,EAAA,EAAAD,CAAA,GACFN,EADL,CAEExC,aAAa8C,OAAAC,EAAA,EAAAD,CAAA,GAAKxD,EAAaU,aAAnB,CAAiCJ,YAAY,MAE7D,KAAKf,EAEH,OADAW,aAAawD,QAAQ,QAASJ,EAAOrD,OAC9BuD,OAAAC,EAAA,EAAAD,CAAA,GAAIN,EAAX,CAAkBxC,aAAcV,EAAaU,aAAcT,MAAOqD,EAAOrD,QAC3E,KAAKX,EACH,OAAOkE,OAAAC,EAAA,EAAAD,CAAA,GACFN,EADL,CAEExC,aAAa8C,OAAAC,EAAA,EAAAD,CAAA,GAAKxD,EAAaU,aAAnB,CAAiCL,MAAOiD,EAAOjD,MAAOC,YAAY,MAElF,KAAKd,EACH,OAAOgE,OAAAC,EAAA,EAAAD,CAAA,GACFN,EADL,CAEEvC,MAAM6C,OAAAC,EAAA,EAAAD,CAAA,GAAKxD,EAAaW,MAAnB,CAA0BL,YAAY,MAE/C,KAAKb,EACH,OAAO+D,OAAAC,EAAA,EAAAD,CAAA,GACFN,EADL,CACYvC,MAAM6C,OAAAC,EAAA,EAAAD,CAAA,GAAKxD,EAAaW,MAAnB,CAA0BN,MAAOiD,EAAOjD,MAAOC,YAAY,MAE9E,KAAKZ,EACH,OAAO8D,OAAAC,EAAA,EAAAD,CAAA,GACFN,EADL,CAEEtC,cAAc4C,OAAAC,EAAA,EAAAD,CAAA,GAAKxD,EAAaY,cAAnB,CAAkCN,YAAY,MAE/D,KAAKX,EACH,OAAO6D,OAAAC,EAAA,EAAAD,CAAA,GACFN,EADL,CAEEtC,cAAc4C,OAAAC,EAAA,EAAAD,CAAA,GAAKxD,EAAaY,cAAnB,CAAkCP,MAAOiD,EAAOjD,MAAOC,YAAY,MAEpF,KAAKV,EAEH,OADAM,aAAawD,QAAQ,QAASJ,EAAOrD,OAC9BuD,OAAAC,EAAA,EAAAD,CAAA,GAAIN,EAAX,CAAkBtC,cAAeZ,EAAaY,cAAeX,MAAOqD,EAAOrD,QAC7E,KAAKJ,EACH,OAAO2D,OAAAC,EAAA,EAAAD,CAAA,GAAIN,EAAX,CAAkBrC,GAAG2C,OAAAC,EAAA,EAAAD,CAAA,GAAMxD,EAAaa,GAApB,CAAwBC,UAAU,MACxD,KAAKhB,EACH,OAAO0D,OAAAC,EAAA,EAAAD,CAAA,GAAIN,EAAX,CAAkBrC,GAAG2C,OAAAC,EAAA,EAAAD,CAAA,GAAMxD,EAAaa,GAApB,CAAwBE,QAASuC,EAAOvC,YAC9D,QACE,OAAOmC,ISrGTS,WPNW,WAA+C,IAA9BT,EAA8BC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAtBnD,EAAcsD,EAAQH,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAC5D,OAAIC,EAAOC,OAAStC,EACXqC,EAAOK,WAETT,GOGLU,KLFW,WAA+C,IAA9BV,EAA8BC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAtBnD,EAAcsD,EAAQH,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAC5D,OAAQC,EAAOC,MACb,KAAKhC,EACH,OAAOiC,OAAAC,EAAA,EAAAD,CAAA,GACFN,EADL,CAEExB,SAAU4B,EAAO5B,SAASmC,OAAOX,EAAMxB,YAE3C,KAAKP,EACH,OAAOqC,OAAAC,EAAA,EAAAD,CAAA,GAAKN,EAAZ,CAAmBzB,sBAAsB,IAC3C,KAAKL,EACH,OAAOoC,OAAAC,EAAA,EAAAD,CAAA,GAAKN,EAAZ,CAAmBzB,sBAAsB,IAC3C,KAAKJ,EACH,OAAOmC,OAAAC,EAAA,EAAAD,CAAA,GACFN,EADL,CAEExB,SAAUwB,EAAMxB,SAASmC,OAAOP,EAAOQ,WAE3C,QACE,OAAOZ,IKdTa,OHLW,WAA+C,IAA9Bb,EAA8BC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAtBnD,EAAcsD,EAAQH,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAC5D,OAAQC,EAAOC,MACb,KAAK5B,EACH,OAAO6B,OAAAC,EAAA,EAAAD,CAAA,GACFN,EADL,CAEEpB,MAAM0B,OAAAC,EAAA,EAAAD,CAAA,CACJ1C,UAAU,EACVT,MAAO,MACJiD,EAAOU,QAGhB,KAAKpC,EACH,OAAO4B,OAAAC,EAAA,EAAAD,CAAA,GACFN,EADLM,OAAAS,EAAA,EAAAT,CAAA,CAEE1B,MAAO,CACLhB,UAAU,EACVT,MAAO,OAERiD,EAAOY,MAAQZ,EAAOU,OAE3B,KAAKnC,EACH,OAAO2B,OAAAC,EAAA,EAAAD,CAAA,GACFN,EADL,CAEEpB,MAAM0B,OAAAC,EAAA,EAAAD,CAAA,GACDN,EAAMpB,MADN,CAEHhB,UAAU,EACVN,OAAQ8C,EAAO9C,WAGrB,QACE,OAAO0C,IGxBTiB,SDCW,WAA+C,IAA9BjB,EAA8BC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAtBnD,GAAcsD,EAAQH,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAC5D,OAAQC,EAAOC,MACb,KAAKvB,EACH,OAAOwB,OAAAC,EAAA,EAAAD,CAAA,GAAKN,EAAZ,CAAmBP,gBAAiBW,EAAOX,kBAC7C,KAAKR,EACH,OAAOqB,OAAAC,EAAA,EAAAD,CAAA,GACFN,EADL,CAEEN,WAAWY,OAAAC,EAAA,EAAAD,CAAA,GACNN,EAAMN,WADDY,OAAAS,EAAA,EAAAT,CAAA,GAEPF,EAAOc,SAAWd,EAAOa,aAGhC,KAAK9B,EACH,OAAOmB,OAAAC,EAAA,EAAAD,CAAA,GACFN,EADL,CAEEL,QAAQW,OAAAC,EAAA,EAAAD,CAAA,GACHN,EAAML,QADJW,OAAAS,EAAA,EAAAT,CAAA,GAEJF,EAAOe,MAAQ,CACdvD,UAAU,EACVqD,SAAU,QAIlB,KAAK7B,GACH,OAAOkB,OAAAC,EAAA,EAAAD,CAAA,GACFN,EADL,CAEEL,QAAQW,OAAAC,EAAA,EAAAD,CAAA,GACHN,EAAML,QADJW,OAAAS,EAAA,EAAAT,CAAA,GAEJF,EAAOe,MAAQ,CACdvD,UAAU,EACVqD,SAAUb,EAAOa,cAIzB,KAAK3B,GACH,OAAOgB,OAAAC,EAAA,EAAAD,CAAA,GACFN,EADL,CAEEJ,KAAKU,OAAAC,EAAA,EAAAD,CAAA,GACAN,EAAMJ,KADPU,OAAAS,EAAA,EAAAT,CAAA,GAEDF,EAAOgB,GAAK,CACXxD,UAAU,EACVyD,QAAS,UAIjB,KAAK9B,GACH,OAAOe,OAAAC,EAAA,EAAAD,CAAA,GACFN,EADL,CAEEJ,KAAKU,OAAAC,EAAA,EAAAD,CAAA,GACAN,EAAMJ,KADPU,OAAAS,EAAA,EAAAT,CAAA,GAEDF,EAAOgB,GAAK,CACXxD,UAAU,EACVyD,QAASjB,EAAOiB,aAIxB,QACE,OAAOrB,MCxDXsB,YAAgBC,sDCEHC,GAfM,SAAAC,GAAA,IAAEC,EAAFD,EAAEC,kBAAF,OACnBC,EAAAC,EAAAC,cAACC,GAAA,EAAD,CACEC,MAAM,OACNC,UAAU,uBACVC,QAASP,EACTQ,aAAW,QAEXP,EAAAC,EAAAC,cAAA,OAAKM,IAAI,+BAA+BC,IAAI,WCQjCZ,GAfM,SAAAC,GAAA,IAAEC,EAAFD,EAAEC,kBAAF,OACnBC,EAAAC,EAAAC,cAACC,GAAA,EAAD,CACEC,MAAM,OACNC,UAAU,iCACVC,QAASP,EACTQ,aAAW,SAEXP,EAAAC,EAAAC,cAAA,OAAKM,IAAI,+BAA+BC,IAAI,YCqBjCC,GA1BD,SAAAZ,GAAA,IAAEa,EAAFb,EAAEa,MAAOC,EAATd,EAASc,QAASC,EAAlBf,EAAkBe,UAAWC,EAA7BhB,EAA6BgB,WAAYC,EAAzCjB,EAAyCiB,OAAQhB,EAAjDD,EAAiDC,kBAAsBiB,EAAvErC,OAAAsC,GAAA,EAAAtC,CAAAmB,EAAA,kFACZE,EAAAC,EAAAC,cAACgB,GAAA,EAADvC,OAAAwC,OAAA,CACER,MAAOA,EACPI,OAAQA,EACRK,OAAQrB,EACRa,QAASA,GACLI,GAEJhB,EAAAC,EAAAC,cAACmB,GAAA,EAAD,KACGV,EACAE,GAAcb,EAAAC,EAAAC,cAACoB,GAAD,CAAcvB,kBAAmBA,IAC/Ce,GAAed,EAAAC,EAAAC,cAACqB,GAAD,CAAexB,kBAAmBA,KAEnDa,qDCIUY,OAnBK,SAAA1B,GAAA,IAAE2B,EAAF3B,EAAE2B,OAAQC,EAAV5B,EAAU4B,QAASC,EAAnB7B,EAAmB6B,KAAMC,EAAzB9B,EAAyB8B,KAAM3C,EAA/Ba,EAA+Bb,QAA/B,OAClBe,EAAAC,EAAAC,cAAA,OAAKG,UAAWwB,KAAG,gBAAiB,CAACC,UAAWL,EAAQM,WAAYL,KAClE1B,EAAAC,EAAAC,cAAA,OAAKG,UAAU,uBAAuBuB,EAAtC,MAOJ,SAAoBD,GAClB,IAAMK,EAAI,IAAIC,KAAKN,GACnB,SAAA3C,OAAUgD,EAAEE,WAAZ,KAAAlD,OAA0BgD,EAAEG,cATqBC,CAAWT,IAC1D3B,EAAAC,EAAAC,cAAA,OAAKG,UAAU,wBACZpB,KCoDQoD,GArDG,SAAAvC,GAAmD,IAAjDlD,EAAiDkD,EAAjDlD,qBAAsBC,EAA2BiD,EAA3BjD,SAAUyF,EAAiBxC,EAAjBwC,YAAiBC,EAS7CC,mBAAS,IAToCC,EAAA9D,OAAA+D,GAAA,EAAA/D,CAAA4D,EAAA,GAS5DI,EAT4DF,EAAA,GASvDG,EATuDH,EAAA,GAmBnE,OACEzC,EAAAC,EAAAC,cAAA,OAAKG,UAAU,eACbL,EAAAC,EAAAC,cAAA,OAAKG,UAAU,cACZxD,EAASgG,IAAI,SAAA5D,GACZ,OACEe,EAAAC,EAAAC,cAAC4C,GAAD,CACEC,IAAK9D,EAAQQ,GACbgC,QAAM,EACNE,KAAM1C,EAAQ0C,KACdC,KAAM3C,EAAQ+D,KACd/D,QAASA,EAAQgE,UAIzBjD,EAAAC,EAAAC,cAAA,OAAKG,UAAU,gBACbL,EAAAC,EAAAC,cAACgD,GAAA,EAAD,CAAMC,SAvBZ,SAAkBC,GAChBA,EAAEC,iBACEzG,IACF0F,EAAYK,GACZC,EAAO,MAmBqBvC,UAAU,gCAClCL,EAAAC,EAAAC,cAACoD,GAAA,EAAD,CAAOC,MAAOZ,EAAKa,SAAU,SAAAJ,GAAC,OAAIR,EAAOQ,EAAEK,OAAOF,QAAQlD,UAAU,oBAAoB3B,KAAK,SAC7FsB,EAAAC,EAAAC,cAACC,GAAA,EAAD,CAAQzB,KAAK,SAAS0B,MAAM,OAAOC,UAAU,gBAC3CL,EAAAC,EAAAC,cAAA,OAAKM,IAAI,8BAA8BC,IAAI,uCC1CxCiD,aAAMC,OAAO,CAE1BC,eAAgB,SAAAC,GACd,OAAe,MAAXA,GACFxI,aAAayI,WAAW,cACxBjK,OAAOC,SAASiK,QAAO,IAGlBF,GAAU,OCHd,SAASG,KACd,OAAO,SAACC,EAAUC,GAChBD,EAAS,CAACvF,KAAMjC,IAEhB,IACMrB,EADQ8I,IACM9F,KAAKhD,MAEzB+I,GAAOC,IAAI,gBAAiB,CAC1BC,QAAS,CACPC,cAAa,UAAAtF,OAAY5D,MAE1BmJ,KAAK,SAAAC,GACNP,EAAS,CAACvF,KAAMhC,EAAsBG,SAAU2H,EAASrF,KAAKtC,aAC7D4H,MAAM,SAAAjJ,GACPyI,EAAS,CAACvF,KAAM/B,EAAsBnB,MAAOA,EAAMgJ,SAASrF,KAAK3D,WAKhE,SAAS8G,GAAYrD,GAC1B,MAAO,CAAEP,KAAMlC,EAASyC,WCwDnB,SAASyF,KACd,OAAO,SAACT,EAAUC,GAChB,IAAM7F,EAAQ6F,IAEd,IAAI7F,EAAMD,KAAKpC,GAAGC,WAAcoC,EAAMD,KAAKpC,GAAGE,QAA9C,CAEA+H,EAAS,CAACvF,KAAM1D,IAEhB,IAAMI,EAAQiD,EAAMD,KAAKhD,MAEzB+I,GAAOC,IAAI,UAAW,CACpBC,QAAS,CACPC,cAAa,UAAAtF,OAAY5D,MAE1BmJ,KAAK,SAAAC,GACNP,EAAS,CAACvF,KAAMzD,EAAgBiB,QAASsI,EAASrF,SACjDsF,MAAM,SAAAjJ,GACPyI,EAAS,CAACvF,KAAMxD,EAAgBM,MAAOA,EAAMgJ,SAASrF,KAAK3D,YCxFjE,IAAImJ,GAAS,KA0FEC,mBAjBf,SAAyBvG,GACvB,MAAO,CACLjD,MAAOiD,EAAMD,KAAKhD,MAClBY,GAAIqC,EAAMD,KAAKpC,GACfY,qBAAsByB,EAAMU,KAAKnC,qBACjCC,SAAUwB,EAAMU,KAAKlC,WAKzB,SAA4BoH,GAC1B,OAAOtF,OAAAC,EAAA,EAAAD,CAAA,CACLsF,YACGY,YAAmB,CAACb,iBAAe1B,eAAaoC,YAAUT,KAIlDW,CAxFf,SAAcE,GAAO,IAEjB1J,EAEE0J,EAFF1J,MAAOwB,EAELkI,EAFKlI,qBAAsBC,EAE3BiI,EAF2BjI,SAAUb,EAErC8I,EAFqC9I,GAAI+I,EAEzCD,EAFyCC,YAAaC,EAEtDF,EAFsDE,QACxDf,EACEa,EADFb,SAAUD,EACRc,EADQd,cAAe1B,EACvBwC,EADuBxC,YAAaoC,EACpCI,EADoCJ,QAHrBnC,EAKSC,oBAAS,GALlBC,EAAA9D,OAAA+D,GAAA,EAAA/D,CAAA4D,EAAA,GAKZxB,EALY0B,EAAA,GAKJwC,EALIxC,EAAA,GA8BnB,SAASyC,EAAavC,GACpBgC,GAAOQ,KAAK,UAAWxC,GACvBL,EAAY,CACVW,KAAMN,EACNK,KAAMhH,EAAGE,QAAQkJ,YACjBzD,KAAMM,KAAKoD,MACX5F,GAAIwC,KAAKoD,QAIb,OAjCAC,oBAAU,WACRZ,IACAV,KAEAW,GAASY,KAAE,UAAAvG,OAAW5D,KAEfoK,GAAG,UAAW,WACnBvB,EAAS,CAACvF,KAAMpC,MAGlBqI,GAAOa,GAAG,aAAc,WACtBvB,EAAS,CAACvF,KAAMnC,MAGlBoI,GAAOa,GAAG,UAAW,SAAAvG,GACnBgF,EAAS,CAACvF,KAAMlC,EAASyC,eAE1B,IAgBCjD,EAAGC,WAAaD,EAAGE,QAAgB,KAGrC8D,EAAAC,EAAAC,cAAA,OAAKG,UAAWwB,KAAG,OAAQ,CAAC4D,MAAST,KAClCD,GACC/E,EAAAC,EAAAC,cAAA,OAAKG,UAAU,eAAeC,QAnBpC,WACE2E,GAAWlE,KAkBP,iEAEEf,EAAAC,EAAAC,cAAA,OAAKM,IAAI,oCAAoCC,IAAI,eAGpDsE,EACG/E,EAAAC,EAAAC,cAACwF,GAAA,EAAD,CAAU3E,OAAQA,GAClBf,EAAAC,EAAAC,cAACyF,GAAD,CACE/I,qBAAsBA,EACtB0F,YAAa4C,EACbrI,SAAUA,KAEZmD,EAAAC,EAAAC,cAACyF,GAAD,CACA/I,qBAAsBA,EACtB0F,YAAa4C,EACbrI,SAAUA,OC1DL+I,GAZU,SAAA9F,GAAA,IAAEX,EAAFW,EAAEX,KAAF,OACvBa,EAAAC,EAAAC,cAAA,OAAKG,UAAU,cACZlB,GAAQA,EAAK0D,IAAI,SAACgD,EAAM9C,GAAP,OAChB/C,EAAAC,EAAAC,cAAC4F,EAAA,EAAD,CAAMC,GAAIF,EAAKrF,IAAKuC,IAAKA,EAAK1C,UAAU,oBAAoBwF,EAAKlF,WCQxDqF,GAbE,WAAM,IAAAzD,EACOC,oBAAS,GADhBC,EAAA9D,OAAA+D,GAAA,EAAA/D,CAAA4D,EAAA,GACdxB,EADc0B,EAAA,GACNwC,EADMxC,EAAA,GAOrB,MAAO,CACL1B,SACAhB,kBANF,WACEkF,GAAWlE,MC2BAkF,GA3BK,SAAAnG,GAAuB,IAArBoG,EAAqBpG,EAArBoG,QAASC,EAAYrG,EAAZqG,OACvBC,EAAkBC,qBAAWH,GADMI,EAELN,KAA7BjF,EAFkCuF,EAElCvF,OAAQhB,EAF0BuG,EAE1BvG,kBACf,OACEC,EAAAC,EAAAC,cAAAF,EAAAC,EAAAsG,SAAA,KACEvG,EAAAC,EAAAC,cAACsG,GAAD,CACE7F,MAAOyF,EAAgBzF,MACvBC,QAASwF,EAAgBK,eACzB5F,WAAS,EACTC,YAAU,EACVC,OAAQA,EACRhB,kBAAmBA,IAErBC,EAAAC,EAAAC,cAACC,GAAA,EAAD,CAAQC,MAAM,OAAOC,UAAU,oCACvBC,QAASP,GAEdqG,EAAgBzF,MAHnB,IAG2BwF,GAAUnG,EAAAC,EAAAC,cAAA,OAAKM,IAAI,6BAA6BC,IAAI,kBCb/EiG,GAAsBC,IAAMC,gBAG5BC,GAAgB,SAAA/G,GAAA,IAAE+F,EAAF/F,EAAE+F,KAAF,OACpB7F,EAAAC,EAAAC,cAACwG,GAAoBI,SAArB,CAA8BvD,MAAOsC,GACnC7F,EAAAC,EAAAC,cAAC6G,GAAD,CAAab,QAASQ,GAAqBP,OAAQN,EAAKM,WA4D7Ca,eAxDG,SAAAC,GAAkC,IAAhC7L,EAAgC6L,EAAhC7L,MAAO0D,EAAyBmI,EAAzBnI,WAAYoI,EAAaD,EAAbC,QAAa3E,EACxBC,mBAAS,IADeC,EAAA9D,OAAA+D,GAAA,EAAA/D,CAAA4D,EAAA,GAC3C/C,EAD2CiD,EAAA,GACpC0E,EADoC1E,EAAA,GASlD,OACEzC,EAAAC,EAAAC,cAAA,OAAKG,UAAU,eACXjF,GACF4E,EAAAC,EAAAC,cAACF,EAAAC,EAAMsG,SAAP,KACEvG,EAAAC,EAAAC,cAAC4F,EAAA,EAAD,CAAMC,GAAG,SAAS1F,UAAU,oBAA5B,4BACAL,EAAAC,EAAAC,cAAC4F,EAAA,EAAD,CAAMC,GAAG,YAAY1F,UAAU,oBAA/B,yEAGCjF,GACH4E,EAAAC,EAAAC,cAACkH,GAAD,CAAevB,KAAM,CACnBlF,MAAO,iEACP8F,eAAgBzG,EAAAC,EAAAC,cAACmH,GAAD,MAChBlB,QAAQ,KAGVnG,EAAAC,EAAAC,cAAA,OAAKG,UAAU,oBACbL,EAAAC,EAAAC,cAACgD,GAAA,EAAD,CAAMoE,QAAM,GACVtH,EAAAC,EAAAC,cAACqH,GAAA,EAAD,CAAWC,MAAO,CAACC,aAAc,IAC/BzH,EAAAC,EAAAC,cAACoD,GAAA,EAAD,CACE5E,KAAK,OACLgJ,KAAK,QACLnE,MAAO/D,EACPgE,SAAU,SAAAJ,GAAC,OAAI+D,EAAS/D,EAAEK,OAAOF,QACjCoE,YAAY,oCAEhB3H,EAAAC,EAAAC,cAACC,GAAA,EAAD,CAAQG,QA/BhB,SAAkBsH,GAChBA,EAAMvE,iBACD7D,EAAMjB,QACX2I,EAAQW,KAAR,iBAAA7I,OAA8BQ,MA4BxB,oCAGJQ,EAAAC,EAAAC,cAAA,MAAIG,UAAU,6BAAd,0DACCvB,EAAW+D,IAAI,SAAAtD,GACd,IAAMsG,EAAO,CACXlF,MAAOpB,EAASoB,MAChB8F,eAAgBzG,EAAAC,EAAAC,cAAC4H,GAAD,CAAkB3I,KAAMI,EAASwI,cAAclF,IAAI,SAAAmF,GAAW,MAAK,CACjFrH,MAAOqH,EAAYrH,MACnBH,IAAG,aAAAxB,OAAegJ,EAAYvI,SAEhC0G,QAAQ,GAGV,OACEnG,EAAAC,EAAAC,cAACkH,GAAD,CAAerE,IAAKxD,EAASE,GAAIoG,KAAMA,6BC9D1C,SAASoC,KACd,OAAO,SAAChE,EAAUC,GAGgB,IAFlBA,IAEJpF,WAAWP,SAErB0F,EAAS,CAACvF,KAAMvC,IAEhBgI,GAAOC,IAAI,mBACRG,KAAK,SAAAC,GACJP,EAAS,CAACvF,KAAMtC,EAAwB0C,WAAY0F,EAASrF,KAAKL,eACjE2F,MAAM,SAAAjJ,GACPyI,EAAS,CAACvF,KAAMrC,EAAwBb,MAAOA,EAAMgJ,SAASrF,KAAK3D,wDCoG3E,IAAM0M,GAAqB,CAAED,oBAEdjB,eAAWpC,YAT1B,SAAyBvG,GACvB,MAAO,CACLjD,MAAOiD,EAAMD,KAAKhD,MAClB0D,WAAYT,EAAMS,aAM6BoJ,GAAzBtD,CArG1B,SAAA9E,GAAyE,IAAxD1E,EAAwD0E,EAAxD1E,MAAO0D,EAAiDgB,EAAjDhB,WAAYmJ,EAAqCnI,EAArCmI,gBAAiBf,EAAoBpH,EAApBoH,QAASpN,EAAWgG,EAAXhG,SACtDqO,EAASC,KAAYC,MAAMvO,EAASwO,QAD6BhC,EAEnCN,KAA7BjF,EAFgEuF,EAEhEvF,OAAQhB,EAFwDuG,EAExDvG,kBAFwDwC,EAGnCC,oBAAS,GAH0BC,EAAA9D,OAAA+D,GAAA,EAAA/D,CAAA4D,EAAA,GAGhEgG,EAHgE9F,EAAA,GAGpD+F,EAHoD/F,EAAA,GAAAgG,EAI7CjG,mBAAS2F,EAAO3I,OAAS,IAJoBkJ,EAAA/J,OAAA+D,GAAA,EAAA/D,CAAA8J,EAAA,GAIhEjJ,EAJgEkJ,EAAA,GAIzDvB,EAJyDuB,EAAA,GAqCvE,OA/BApD,oBAAU,WACJ9F,IAAU2I,EAAO3I,OACnB2H,EAASgB,EAAO3I,OAAS,IAGvBuB,GAAQhB,KACX,CAACjG,EAASwO,SAEbhD,oBAAU,WACJvE,GAAQhB,KACX,CAACjG,EAAS6O,WAEbrD,oBAAU,WACR2C,KACC,IAkBDjI,EAAAC,EAAAC,cAAA,cACEF,EAAAC,EAAAC,cAAC0I,GAAA,EAAD,CAAQC,OAAK,EAACC,OAAO,MACnB9I,EAAAC,EAAAC,cAAA,OAAKG,UAAU,aACbL,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAC6I,GAAA,EAAD,CAAezI,QApBzB,WACEkI,GAAeD,IAmByClI,UAAU,qCACxDL,EAAAC,EAAAC,cAAA,OAAKM,IAAI,8BAA8BC,IAAI,eAE7CT,EAAAC,EAAAC,cAACsG,GAAD,CACE7F,MAAM,2BACNC,QAASZ,EAAAC,EAAAC,cAAC8I,GAAD,CAAW5N,MAAOA,EAAO0D,WAAYA,IAC9CW,GAAG,cACHqB,YAAU,EACVC,OAAQA,EACRhB,kBAAmBA,IAErBC,EAAAC,EAAAC,cAAC6I,GAAA,EAAD,CAAezI,QAASP,EAAmBM,UAAU,2BACnDL,EAAAC,EAAAC,cAAA,OAAKM,IAAI,8BAA8BC,IAAI,eAE7CT,EAAAC,EAAAC,cAAC4F,EAAA,EAAD,CAAMC,GAAG,IAAI1F,UAAU,gBAAeL,EAAAC,EAAAC,cAAA,2BAGxCF,EAAAC,EAAAC,cAACwF,GAAA,EAAD,CAAU3E,OAAQwH,EAAYU,QAAM,GAClCjJ,EAAAC,EAAAC,cAACgJ,GAAA,EAAD,CAAK7I,UAAU,UAAU4I,QAAM,GAC7BjJ,EAAAC,EAAAC,cAACiJ,GAAA,EAAD,KACEnJ,EAAAC,EAAAC,cAACgD,GAAA,EAAD,CAAMC,SApCpB,SAAgByE,GACdA,EAAMvE,iBACN6D,EAAQW,KAAR,iBAAA7I,OAA8BQ,KAkCM8H,QAAM,EAACjH,UAAU,wBACvCL,EAAAC,EAAAC,cAACoD,GAAA,EAAD,CACEjD,UAAU,uBACV3B,KAAK,OACLiJ,YAAY,iCACZpH,aAAW,SACXgD,MAAO/D,EACPgE,SAAU,SAAAoE,GAAK,OAAIT,EAASS,EAAMnE,OAAOF,UAE3CvD,EAAAC,EAAAC,cAACC,GAAA,EAAD,CAAQzB,KAAK,SAAS0B,MAAM,UAAUgJ,SAAO,GAA7C,sCAIJhO,GACF4E,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAC4F,EAAA,EAAD,CAAMC,GAAG,SAAS1F,UAAU,cAA5B,4BACC,MACDL,EAAAC,EAAAC,cAAC4F,EAAA,EAAD,CAAMC,GAAG,YAAY1F,UAAU,cAA/B,yEAGCjF,GACD4E,EAAAC,EAAAC,cAAA,KAAGI,QApDf,SAAgB8C,GACdA,EAAEC,iBACFhI,aAAayI,WAAW,SACxBjK,OAAOC,SAASuP,KAAO,KAiDOA,KAAK,IAAIhJ,UAAU,cAAvC,yCC3ECiJ,OAvBf,WACE,OACEtJ,EAAAC,EAAAC,cAAA,UAAQG,UAAU,UAChBL,EAAAC,EAAAC,cAAA,OAAKG,UAAU,aACbL,EAAAC,EAAAC,cAAA,OAAKG,UAAU,gBACbL,EAAAC,EAAAC,cAAA,OAAKG,UAAU,eACbL,EAAAC,EAAAC,cAAC4F,EAAA,EAAD,CAAMC,GAAG,IAAI1F,UAAU,cAAvB,6HACAL,EAAAC,EAAAC,cAAA,QAAMG,UAAU,iDAAhB,KACAL,EAAAC,EAAAC,cAAC4F,EAAA,EAAD,CAAMC,GAAG,IAAI1F,UAAU,cAAvB,gHACAL,EAAAC,EAAAC,cAAA,QAAMG,UAAU,iDAAhB,KACAL,EAAAC,EAAAC,cAAC4F,EAAA,EAAD,CAAMC,GAAG,IAAI1F,UAAU,cAAvB,WACAL,EAAAC,EAAAC,cAAA,QAAMG,UAAU,iDAAhB,KACAL,EAAAC,EAAAC,cAAC4F,EAAA,EAAD,CAAMC,GAAG,IAAI1F,UAAU,cAAvB,qDAEFL,EAAAC,EAAAC,cAAA,oDCWK0E,mBAJf,SAAyBvG,GACvB,MAAO,CAAEjD,MAAOiD,EAAMD,KAAKhD,QAGdwJ,CArBf,SAAA9E,GAAwC,IAAlB1E,EAAkB0E,EAAlB1E,MAAOmO,EAAWzJ,EAAXyJ,SAC3B,OACEvJ,EAAAC,EAAAC,cAACF,EAAAC,EAAMsG,SAAP,KACEvG,EAAAC,EAAAC,cAACsJ,GAAD,MACAxJ,EAAAC,EAAAC,cAAA,QAAMuJ,KAAK,UACNrO,GACD4E,EAAAC,EAAAC,cAAA,OAAKG,UAAU,qBACbL,EAAAC,EAAAC,cAACmH,GAAD,CAAMrC,SAAO,EAACD,aAAW,KAG5BwE,GAEHvJ,EAAAC,EAAAC,cAACwJ,GAAD,qECgBSC,GA9Be,SAAA7J,GAAoC,IAAlC8J,EAAkC9J,EAAlC8J,cAAeC,EAAmB/J,EAAnB+J,cAAmBtH,EAC7BC,oBAAS,GADoBC,EAAA9D,OAAA+D,GAAA,EAAA/D,CAAA4D,EAAA,GACvDxB,EADuD0B,EAAA,GAC/CqH,EAD+CrH,EAAA,GAO9D,OACIzC,EAAAC,EAAAC,cAAC6J,GAAA,EAAD,CAAUhJ,OAAQA,EAAQK,OALD,WACzB0I,GAAgB/I,KAKZf,EAAAC,EAAAC,cAAC8J,GAAA,EAAD,CAAgBC,OAAK,EAACC,IAAI,IAAI7J,UAAU,YAClCuJ,GAEN5J,EAAAC,EAAAC,cAACiK,GAAA,EAAD,KACMN,EAAchH,IAAI,SAACgD,EAAM9C,GAAP,OAClB/C,EAAAC,EAAAC,cAACkK,GAAA,EAAD,CAAcrH,IAAKA,GACjB/C,EAAAC,EAAAC,cAAC4F,EAAA,EAAD,CAAM/C,IAAK8C,EAAKpG,GAAIsG,GAAE,aAAA/G,OAAe6G,EAAKpG,KACvCoG,EAAKlF,aCAb0J,GAjBO,SAAAvK,GAAoB,IAAjBhB,EAAiBgB,EAAjBhB,WACrB,OACIkB,EAAAC,EAAAC,cAAA,OAAKG,UAAU,qBACXL,EAAAC,EAAAC,cAAA,OAAKG,UAAU,aACfL,EAAAC,EAAAC,cAACoK,GAAA,EAAD,CAAWjK,UAAU,WAChBvB,EAAW+D,IAAI,SAAAtD,GACZ,OACES,EAAAC,EAAAC,cAACqK,GAAA,EAAD,CAAexH,IAAKxD,EAASE,IACzBO,EAAAC,EAAAC,cAACsK,GAAD,CAAuBZ,cAAerK,EAASoB,MAAOkJ,cAAetK,EAASwI,oHCDlG0C,GAAQ,CACV,CACIhL,GAAI,IACJiL,cAAe,uHACflK,IAAK,uCACLmK,QAAS,6CACTC,aAAc,kFACdC,eAAgB,sHAChBC,kBAAmB,sCAEvB,CACIrL,GAAI,IACJiL,cAAe,mEACflK,IAAK,uCACLmK,QAAS,UACTC,aAAc,wGACdC,eAAgB,sHAChBC,kBAAmB,sCAEvB,CACIrL,GAAI,IACJiL,cAAe,uHACflK,IAAK,uCACLmK,QAAS,UACTC,aAAc,wFACdC,eAAgB,sHAChBC,kBAAmB,uCA0FZC,eArFX,SAAAA,EAAYjG,GAAO,IAAAkG,EAAA,OAAArM,OAAAsM,GAAA,EAAAtM,CAAAuM,KAAAH,IACfC,EAAArM,OAAAwM,GAAA,EAAAxM,CAAAuM,KAAAvM,OAAAyM,GAAA,EAAAzM,CAAAoM,GAAAM,KAAAH,KAAMpG,KACDzG,MAAQ,CAAEiN,YAAa,GAC5BN,EAAKO,KAAOP,EAAKO,KAAKC,KAAV7M,OAAA8M,GAAA,EAAA9M,QAAA8M,GAAA,EAAA9M,CAAAqM,KACZA,EAAKU,SAAWV,EAAKU,SAASF,KAAd7M,OAAA8M,GAAA,EAAA9M,QAAA8M,GAAA,EAAA9M,CAAAqM,KAChBA,EAAKW,UAAYX,EAAKW,UAAUH,KAAf7M,OAAA8M,GAAA,EAAA9M,QAAA8M,GAAA,EAAA9M,CAAAqM,KACjBA,EAAKY,UAAYZ,EAAKY,UAAUJ,KAAf7M,OAAA8M,GAAA,EAAA9M,QAAA8M,GAAA,EAAA9M,CAAAqM,KACjBA,EAAKa,SAAWb,EAAKa,SAASL,KAAd7M,OAAA8M,GAAA,EAAA9M,QAAA8M,GAAA,EAAA9M,CAAAqM,KAPDA,6EAWfE,KAAKY,WAAY,qCAIjBZ,KAAKY,WAAY,iCAIjB,IAAIZ,KAAKY,UAAT,CACA,IAAMC,EAAYb,KAAK7M,MAAMiN,cAAgBb,GAAMlM,OAAS,EAAI,EAAI2M,KAAK7M,MAAMiN,YAAc,EAC7FJ,KAAKc,SAAS,CAAEV,YAAaS,wCAI7B,IAAIb,KAAKY,UAAT,CACA,IAAMC,EAAuC,IAA3Bb,KAAK7M,MAAMiN,YAAoBb,GAAMlM,OAAS,EAAI2M,KAAK7M,MAAMiN,YAAc,EAC7FJ,KAAKc,SAAS,CAAEV,YAAaS,uCAGvBE,GACFf,KAAKY,WACTZ,KAAKc,SAAS,CAAEV,YAAaW,qCAGxB,IAAAC,EAAAhB,KACGI,EAAgBJ,KAAK7M,MAArBiN,YACAxM,EAAeoM,KAAKpG,MAApBhG,WAEFqN,EAAS1B,GAAM5H,IAAI,SAACgD,GACtB,IAAMmC,EAAclJ,EAAWsN,OAAO,SAACC,EAAQ9M,GAC3C,GAAI8M,EAAQ,OAAOA,EACnB,IAAMC,EAAI/M,EAASwI,cAAcwE,KAAK,SAAAzM,GAAA,OAAAA,EAAEa,QAAqBkF,EAAK6E,gBAClE,OAAI4B,GACGD,GACR,MAEH,OACIrM,EAAAC,EAAAC,cAACsM,GAAA,EAAD,CACIZ,UAAWM,EAAKN,UAChBC,SAAUK,EAAKL,SACf9I,IAAK8C,EAAKpG,IAEVO,EAAAC,EAAAC,cAAA,OAAKM,IAAKqF,EAAKrF,IAAKC,IAAKoF,EAAK8E,QAAStK,UAAU,gBACjDL,EAAAC,EAAAC,cAAA,OAAKG,UAAU,aACXL,EAAAC,EAAAC,cAAA,OAAKG,UAAU,oBACXL,EAAAC,EAAAC,cAAA,MAAIG,UAAU,MAAOwF,EAAK+E,cAC1B5K,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAAC4F,EAAA,EAAD,CAAMzF,UAAU,MAAM0F,GAAE,aAAA/G,OAAgBgJ,EAAYvI,IAAOgK,KAAK,UAC1D5D,EAAKgF,eACP7K,EAAAC,EAAAC,cAAA,OAAKM,IAAMqF,EAAKiF,kBAAoBzK,UAAU,OAAOI,IAAI,YASrF,OACIT,EAAAC,EAAAC,cAACuM,GAAA,EAAD,CACInB,YAAaA,EACbC,KAAML,KAAKK,KACXG,SAAUR,KAAKQ,SACfrL,UAAU,iBAEVL,EAAAC,EAAAC,cAACwM,GAAA,EAAD,CAAoBjC,MAAOA,GAAOa,YAAaA,EAAaqB,eAAgBzB,KAAKS,YAChFQ,EACDnM,EAAAC,EAAAC,cAAC0M,GAAA,EAAD,CAAiBC,UAAU,OAAOC,cAAc,WAAWH,eAAgBzB,KAAKQ,WAChF1L,EAAAC,EAAAC,cAAC0M,GAAA,EAAD,CAAiBC,UAAU,OAAOC,cAAc,OAAOH,eAAgBzB,KAAKK,eAhFjEwB,yECVZC,GAzBO,SAAAlN,GAAA,IAAEmN,EAAFnN,EAAEmN,IAAKC,EAAPpN,EAAOoN,UAAWC,EAAlBrN,EAAkBqN,WAAsCC,GAAxDtN,EAA8BuN,SAA9BvN,EAAwCwN,eAAxCxN,EAAwDsN,WAAxDtN,EAAmEyN,aAAnEzN,EAAiF0N,SAAjF,OACpBxN,EAAAC,EAAAC,cAACuN,GAAA,EAAD,CAAMvD,IAAKwD,IAAM3H,GAAIkH,GACnBjN,EAAAC,EAAAC,cAAA,OAAKG,UAAU,iBACbL,EAAAC,EAAAC,cAACyN,GAAA,EAAD,CAASC,MAAM,OAAOvN,UAAU,eAAeG,IAAK2M,EAAY1M,IAAI,oBAEtET,EAAAC,EAAAC,cAAC2N,GAAA,EAAD,KACE7N,EAAAC,EAAAC,cAAC4N,GAAA,EAAD,KAAYZ,GACZlN,EAAAC,EAAAC,cAAA,OAAKG,UAAU,cACfL,EAAAC,EAAAC,cAAC6N,GAAA,EAAD,CAAU1N,UAAWwB,KAAG,eACrBuL,MCVHY,GAAY,IAAIC,KAAKC,aAAa,QAAS,CAAE1G,MAAO,WAAY2G,SAAU,QA2BjEC,OAzBf,SAAAtO,GAAoC,IAAT2K,EAAS3K,EAAT2K,MACzB,OACEzK,EAAAC,EAAAC,cAACF,EAAAC,EAAMsG,SAAP,KACEvG,EAAAC,EAAAC,cAAA,MAAIG,UAAU,iBAAd,uJACAL,EAAAC,EAAAC,cAACmO,GAAA,EAAD,CAAUhO,UAAU,kBACjBoK,EAAM5H,IAAI,SAAAgD,GACT,OACE7F,EAAAC,EAAAC,cAACoO,GAAD,CACEvL,IAAK8C,EAAKpG,GACVwN,IAAG,YAAAjO,OAAc6G,EAAKpG,IACtByN,UAAWrH,EAAKlF,MAChBwM,WAAYtH,EAAK0I,OAAO,GACxBlB,UAAU,EACVC,eAAe,MACfF,UAAWY,GAAUQ,OAAO3I,EAAK4I,OACjClB,aAAa,MACbC,UAAU,SCrBT,SAASkB,KACtB,OACE1O,EAAAC,EAAAC,cAAA,OAAKG,UAAU,aACbL,EAAAC,EAAAC,cAAA,iDCuDC,SAASyO,GAAiBlP,GAC/B,OAAO,SAACwE,EAAUC,GAChB,IAAM7F,EAAQ6F,KAEsC,IAAhDE,KAAI/F,EAAD,iBAAAW,OAAyBS,EAAzB,iBAEPwE,EAAS,CAACvF,KAAMf,GAAyB8B,OAEzC0E,GAAOC,IAAP,iBAAApF,OAA4BS,IACzB8E,KAAK,SAAAC,GACJP,EAAS,CAACvF,KAAMd,GAAyB6B,KAAIC,QAAS8E,EAASrF,KAAKO,YACnE+E,MAAM,SAAAjJ,GACTyI,EAAS,CAACvF,KAAMb,GAAyB4B,KAAIjE,MAAOA,EAAMgJ,SAASrF,KAAK3D,YCpB9E,IAAM0M,GAAqB,CAAED,mBAAiB2G,qBD3CvC,WACL,OAAO,SAAC3K,EAAUC,GAG8B,IAFhCA,IAEJ5E,SAASxB,gBAAgBS,SAEnC0F,EAAS,CAACvF,KAAMxB,IAEhBiH,GAAOC,IAAI,wBACRG,KAAK,SAAAC,GACJP,EAAS,CAACvF,KAAMvB,EAA6BW,gBAAiB0G,EAASrF,KAAKrB,oBAC3E2G,MAAM,SAAAjJ,GACTyI,EAAS,CAACvF,KAAMtB,EAA6B5B,MAAOA,EAAMgJ,SAASrF,KAAK3D,cCiC/DoJ,eATf,SAAyBvG,GACvB,MAAO,CACLS,WAAYT,EAAMS,WAClBhB,gBAAiBO,EAAMiB,SAASxB,kBAMIoK,GAAzBtD,CA3Cf,SAAA9E,GAAsF,IAAtEhB,EAAsEgB,EAAtEhB,WAAYhB,EAA0DgC,EAA1DhC,gBAAiBmK,EAAyCnI,EAAzCmI,gBAAiB2G,EAAwB9O,EAAxB8O,qBAM5D,OALAtJ,oBAAU,WACR2C,IACA2G,KACC,IAEE9P,EAAWP,QAAWT,EAAgBS,OAKzCyB,EAAAC,EAAAC,cAACF,EAAAC,EAAMsG,SAAP,KACEvG,EAAAC,EAAAC,cAAA,OAAKG,UAAU,aACfL,EAAAC,EAAAC,cAAA,OAAKG,UAAU,aACbL,EAAAC,EAAAC,cAAA,OAAKG,UAAU,uCACbL,EAAAC,EAAAC,cAAA,OAAKG,UAAU,YACbL,EAAAC,EAAAC,cAAC2O,GAAD,CAAe/P,WAAYA,KAE7BkB,EAAAC,EAAAC,cAAA,OAAKG,UAAU,YACbL,EAAAC,EAAAC,cAAC4O,GAAD,CAAchQ,WAAYA,OAIhCkB,EAAAC,EAAAC,cAAA,OAAKG,UAAU,aACbL,EAAAC,EAAAC,cAAA,OAAKG,UAAU,2BACbL,EAAAC,EAAAC,cAAA,OAAKG,UAAU,YACbL,EAAAC,EAAAC,cAAC6O,GAAD,CAAiBtE,MAAO3M,QAnBzBkC,EAAAC,EAAAC,cAACwO,GAAD,QChBI,SAASxL,GAAK4B,GAAO,IAAAvC,EACLC,mBAAS,IADJC,EAAA9D,OAAA+D,GAAA,EAAA/D,CAAA4D,EAAA,GAC3BlE,EAD2BoE,EAAA,GACpBuM,EADoBvM,EAAA,GAGlC,SAASwM,EAASrH,GAChBoH,EAAYrQ,OAAAC,EAAA,EAAAD,CAAA,GACPN,EADMM,OAAAS,EAAA,EAAAT,CAAA,GAERiJ,EAAMnE,OAAOiE,KAAOE,EAAMnE,OAAOF,SAItC,OACEvD,EAAAC,EAAAC,cAAA,OAAKG,UAAU,kBACbL,EAAAC,EAAAC,cAAA,OAAKG,UAAU,8BACbL,EAAAC,EAAAC,cAAA,OAAKG,UAAU,YACbL,EAAAC,EAAAC,cAAA,QAAMiD,SAAU,SAACyE,GAAD,OAAW9C,EAAM3B,SAASyE,EAAOvJ,OAC5CyG,EAAMtJ,OACTwE,EAAAC,EAAAC,cAAA,OAAKG,UAAU,qBAAqBoJ,KAAK,SACtC3E,EAAMtJ,OAGTwE,EAAAC,EAAAC,cAAA,OAAKG,UAAU,4CAEZyE,EAAMoK,OAAOrM,IAAI,SAAAsM,GAChB,OACEnP,EAAAC,EAAAC,cAAA,OAAKG,UAAU,aAAa0C,IAAKoM,EAAM1P,IACrCO,EAAAC,EAAAC,cAAA,SAAOkP,QAASD,EAAM1P,IAAK0P,EAAME,OACjCrP,EAAAC,EAAAC,cAAA,SAAOxB,KAAMyQ,EAAMzQ,KAAM2B,UAAU,eAAeZ,GAAI0P,EAAM1P,GACrDkI,YAAawH,EAAMxH,YACnBD,KAAMyH,EAAMzH,KACZnE,MAAOlF,EAAM8Q,EAAMzH,OAAS,GAAIlE,SAAUyL,EAAUK,UAAQ,OAKzEtP,EAAAC,EAAAC,cAAA,UAAQqP,SAAUzK,EAAMyK,SAAU7Q,KAAK,SAAS2B,UAAU,0BACvDyE,EAAM0K,cAGTxP,EAAAC,EAAAC,cAAA,OAAKG,UAAU,oBACbL,EAAAC,EAAAC,cAAC4E,EAAMwE,OAAP,SAINtJ,EAAAC,EAAAC,cAAA,OACEG,UAAU,2EADZ,sBAGAL,EAAAC,EAAAC,cAAA,OAAKG,UAAU,gBACbL,EAAAC,EAAAC,cAAA,KAAGmJ,KAAK,IAAIhJ,UAAU,kCACpBL,EAAAC,EAAAC,cAAA,OAAKM,IAAI,kCAAkCC,IAAI,KADjD,YAIAT,EAAAC,EAAAC,cAAA,KAAGmJ,KAAK,IAAIhJ,UAAU,kCACpBL,EAAAC,EAAAC,cAAA,OAAKM,IAAI,4BAA4BC,IAAI,KAD3C,aAIAT,EAAAC,EAAAC,cAAA,KAAGmJ,KAAK,IAAIhJ,UAAU,uCACpBL,EAAAC,EAAAC,cAAA,OAAKM,IAAI,iCAAiCC,IAAI,KADhD,eClDZ,IAAMyO,GAAS,CACb,CAACG,MAAO,QAAS3Q,KAAM,QAASe,GAAI,QAASiI,KAAM,QAASC,YAAa,SACzE,CAAC0H,MAAO,uCAAU3Q,KAAM,WAAYe,GAAI,WAAYiI,KAAM,WAAYC,YAAa,yCAkCrF,IAAMO,GAAqB,CAAEuH,YnBhCtB,SAAA3P,GAAkC,IAAlB4P,EAAkB5P,EAAlB4P,MAAOC,EAAW7P,EAAX6P,SAC5B,OAAO,SAAC1L,EAAUC,GAChBD,EAAS,CAACvF,KAAMzE,IAEhBkK,GAAOyL,KAAK,aAAc,CACxBF,QAAOC,aACNpL,KAAK,SAAAC,GACNP,EAAS,CAACvF,KAAMtE,EAAcgB,MAAOoJ,EAASrF,KAAK/D,UAClDqJ,MAAM,SAAAjJ,GACPyI,EAAS,CAACvF,KAAMvE,EAAcqB,MAAOA,EAAMgJ,SAASrF,KAAK3D,amByBhDoJ,eANf,SAAyBvG,GACvB,MAAO,CAAE9C,MAAO8C,EAAMD,KAAK7C,MAAOH,MAAOiD,EAAMD,KAAKhD,QAKd8M,GAAzBtD,CAjCf,SAAA9E,GAA4C,IAA5B1E,EAA4B0E,EAA5B1E,MAAOG,EAAqBuE,EAArBvE,MAAOkU,EAAc3P,EAAd2P,YAC5B,OAAIrU,EAAc4E,EAAAC,EAAAC,cAAC2P,EAAA,EAAD,CAAU9J,GAAG,MAU7B/F,EAAAC,EAAAC,cAAC4P,GAAD,CACEP,SAAUhU,EAAME,WAChBkF,MAAM,2BACNnF,MAAOD,EAAMC,MACb2H,SAZJ,SAAkByE,EAAOsH,GACvBtH,EAAMvE,iBACF9H,EAAME,YAEVgU,EAAYP,IASVA,OAAQA,GACRM,aAAa,iCACblG,OAAQ,kBACNtJ,EAAAC,EAAAC,cAACF,EAAAC,EAAMsG,SAAP,6EACgBvG,EAAAC,EAAAC,cAAC4F,EAAA,EAAD,CAAMC,GAAG,aAAT,4EC3BlBgK,GAAc,CAClBC,UAAW,KACXC,GAAI,WACJC,OAAQ,UA6CV,IAAMhI,GAAqB,CAAEiI,oBpBctB,SAAAC,GAAyC,IAAjBC,EAAiBD,EAAjBC,SAAUC,EAAOF,EAAPE,KACvC,OAAO,SAACrM,EAAUC,GAChBD,EAAS,CAACvF,KAAM7D,IAEhBsJ,GAAOyL,KAAK,sBAAuB,CACjCS,YACC,CACDE,OAAQ,CAAED,UACT/L,KAAK,SAAAC,GACNP,EAAS,CAACvF,KAAM3D,EAAsBK,MAAOoJ,EAASrF,KAAK/D,UAC1DqJ,MAAM,SAAAjJ,GACPyI,EAAS,CAACvF,KAAM5D,EAAsBU,MAAOA,EAAMgJ,SAASrF,KAAK3D,aoBvBxDoJ,eANf,SAAyBvG,GACvB,MAAO,CAAEtC,cAAesC,EAAMtC,cAAeX,MAAOiD,EAAMjD,QAKpB8M,GAAzBtD,CA5Cf,SAAA9E,GAAqF,IAA7D1E,EAA6D0E,EAA7D1E,MAAOW,EAAsD+D,EAAtD/D,cAAeoU,EAAuCrQ,EAAvCqQ,oBAAqBnW,EAAkB8F,EAAlB9F,MAAOF,EAAWgG,EAAXhG,SACxE,GAAIsB,EAAO,OAAO4E,EAAAC,EAAAC,cAAC2P,EAAA,EAAD,CAAU9J,GAAG,MAE/B,IAAMwK,EAAS,IAAIC,gBAAgB1W,EAASwO,QACtC+H,EAAWrW,EAAMuW,OAAOF,SAO9B,OALA/K,oBAAU,WACJiL,EAAOnM,IAAI,UACf+L,EAAoB,CAACG,KAAMC,EAAOnM,IAAI,QAASiM,cAC9C,IAGDrQ,EAAAC,EAAAC,cAAA,QAAMG,UAAU,aACdL,EAAAC,EAAAC,cAAA,OAAKG,UAAU,4DACbL,EAAAC,EAAAC,cAAA,OAAKG,UAAU,gBACbL,EAAAC,EAAAC,cAAA,OAAKG,UAAU,uCACbL,EAAAC,EAAAC,cAAA,KAAGG,UAAU,WAAb,iEAAoC0P,GAAYM,IAE/CtU,EAAcP,OAAS+U,EAAOnM,IAAI,SAC/BpE,EAAAC,EAAAC,cAACF,EAAAC,EAAMsG,SAAP,KACAvG,EAAAC,EAAAC,cAAA,KAAGG,UAAU,eAAb,2NACAL,EAAAC,EAAAC,cAAA,KAAGG,UAAU,eAAetE,EAAcP,OAAS,IACnDwE,EAAAC,EAAAC,cAAC4F,EAAA,EAAD,CAAMC,GAAG,KAAT,6BAEA/F,EAAAC,EAAAC,cAACF,EAAAC,EAAMsG,SAAP,KACAvG,EAAAC,EAAAC,cAAA,kIACAF,EAAAC,EAAAC,cAAA,OAAKG,UAAU,iBAAiBoJ,KAAK,UACnCzJ,EAAAC,EAAAC,cAAA,QAAMG,UAAU,WAAhB,+DC/BZ6O,GAAS,CACb,CAACG,MAAO,QAAS3Q,KAAM,QAASe,GAAI,QAASiI,KAAM,QAASC,YAAa,SACzE,CAAC0H,MAAO,qBAAO3Q,KAAM,OAAQe,GAAI,cAAeiI,KAAM,cAAeC,YAAa,sBAClF,CAAC0H,MAAO,uCAAU3Q,KAAM,WAAYe,GAAI,WAAYiI,KAAM,WAAYC,YAAa,yCAgDrF,IAAMO,GAAqB,CAAEuI,erBjCtB,SAAAxJ,GAAkD,IAA/ByI,EAA+BzI,EAA/ByI,MAAOtK,EAAwB6B,EAAxB7B,YAAauK,EAAW1I,EAAX0I,SAC5C,OAAO,SAAC1L,EAAUC,GAChBD,EAAS,CAACvF,KAAMrE,IAEhB8J,GAAOyL,KAAK,gBAAiB,CAC3BF,QAAOtK,cAAauK,aACnBpL,KAAK,SAAAC,GACNP,EAAS,CAACvF,KAAMnE,MACfkK,MAAM,SAAAjJ,GACPyI,EAAS,CAACvF,KAAMpE,EAAiBqB,OAAQH,EAAMgJ,SAASrF,KAAKxD,cqB0BpDiJ,eANf,SAAyBvG,GACvB,MAAO,CAAE3C,aAAc2C,EAAMD,KAAK1C,eAKIwM,GAAzBtD,CA/Cf,SAAA9E,GAAkD,IAA/BpE,EAA+BoE,EAA/BpE,aAAc+U,EAAiB3Q,EAAjB2Q,eAC/B,OAAI/U,EAAaE,SAEboE,EAAAC,EAAAC,cAAA,OAAKG,UAAU,kBACfL,EAAAC,EAAAC,cAAA,OAAKG,UAAU,8BACbL,EAAAC,EAAAC,cAAA,OAAKG,UAAU,YACbL,EAAAC,EAAAC,cAAA,OAAKG,UAAU,uCACbL,EAAAC,EAAAC,cAAA,KAAGG,UAAU,WAAb,sLACAL,EAAAC,EAAAC,cAAA,2OACAF,EAAAC,EAAAC,cAAA,6ZAgBRF,EAAAC,EAAAC,cAAC4P,GAAD,CACEP,SAAU7T,EAAaD,WACvBkF,MAAM,qEACN+P,UAAWhV,EAAaC,OACxBA,OAAQD,EAAaC,OACrBwH,SAbJ,SAAkByE,EAAOsH,GACvBtH,EAAMvE,iBACF3H,EAAaD,YAEjBgV,EAAevB,IAUbA,OAAQA,GACRM,aAAa,wFACblG,OAAQ,kBACNtJ,EAAAC,EAAAC,cAAA,uGACEF,EAAAC,EAAAC,cAAC4F,EAAA,EAAD,CAAMC,GAAG,UAAT,kCCLV,IAAMmC,GAAqB,CAAEyI,ctBJtB,SAAAC,GAAsC,IAApBC,EAAoBD,EAApBC,kBACvB,OAAO,SAAC5M,EAAUC,GAChBD,EAAS,CAACvF,KAAMlE,IAEhB2J,GAAOyL,KAAK,eAAgB,CAC1BiB,sBACCtM,KAAK,SAAAC,GACNP,EAAS,CAACvF,KAAMhE,EAAgBU,MAAOoJ,EAASrF,KAAK/D,UACpDqJ,MAAM,SAAAjJ,GACPyI,EAAS,CAACvF,KAAMjE,EAAgBe,MAAOA,EAAMgJ,SAASrF,KAAK3D,asBHlDoJ,eANf,SAAyBvG,GACvB,MAAO,CAAExC,aAAcwC,EAAMxC,aAAcT,MAAOiD,EAAMjD,QAKlB8M,GAAzBtD,CAxCf,SAAA9E,GAA8D,IAA5C1E,EAA4C0E,EAA5C1E,MAAOS,EAAqCiE,EAArCjE,aAAc8U,EAAuB7Q,EAAvB6Q,cAAe3W,EAAQ8F,EAAR9F,MACpD,OAAIoB,EAAc4E,EAAAC,EAAAC,cAAC2P,EAAA,EAAD,CAAU9J,GAAG,OAE/BT,oBAAU,WACRqL,EAAc,CAACE,kBAAmB7W,EAAMuW,OAAOM,qBAC9C,IAGD7Q,EAAAC,EAAAC,cAAA,QAAMG,UAAU,aACdL,EAAAC,EAAAC,cAAA,OAAKG,UAAU,4DACbL,EAAAC,EAAAC,cAAA,OAAKG,UAAU,gBACbL,EAAAC,EAAAC,cAAA,OAAKG,UAAU,uCACbL,EAAAC,EAAAC,cAAA,KAAGG,UAAU,WAAb,8KAECxE,EAAaL,MACVwE,EAAAC,EAAAC,cAACF,EAAAC,EAAMsG,SAAP,KACAvG,EAAAC,EAAAC,cAAA,KAAGG,UAAU,eAAb,2NACAL,EAAAC,EAAAC,cAAA,KAAGG,UAAU,eAAexE,EAAaL,OACzCwE,EAAAC,EAAAC,cAAC4F,EAAA,EAAD,CAAMC,GAAG,KAAT,6BAEA/F,EAAAC,EAAAC,cAACF,EAAAC,EAAMsG,SAAP,KACAvG,EAAAC,EAAAC,cAAA,wSACAF,EAAAC,EAAAC,cAAA,OAAKG,UAAU,iBAAiBoJ,KAAK,UACnCzJ,EAAAC,EAAAC,cAAA,QAAMG,UAAU,WAAhB,gECxBH,SAASyQ,GAAThR,GAAmD,IAAvBP,EAAuBO,EAAvBP,SAAUT,EAAagB,EAAbhB,WAAayD,EACjBC,mBAASjD,GADQkD,EAAA9D,OAAA+D,GAAA,EAAA/D,CAAA4D,EAAA,GACzDwO,EADyDtO,EAAA,GACrCuO,EADqCvO,EAAA,GAGhE,OACEzC,EAAAC,EAAAC,cAAA,OAAKG,UAAU,uCACbL,EAAAC,EAAAC,cAAA,OAAKT,GAAG,YAAYY,UAAU,mCAC3BvB,EAAW+D,IAAI,SAACtD,GACf,OACES,EAAAC,EAAAC,cAAA,OAAKG,UAAU,kBAAkB0C,IAAKxD,EAASE,IAC7CO,EAAAC,EAAAC,cAAA,MAAIG,UAAU,OAAOC,QAAS,kBAAM0Q,EAAiBzR,EAASE,MAC3DF,EAASoB,MADZ,IACmBX,EAAAC,EAAAC,cAAA,OAAKM,IAAI,+BAA+BC,IAAI,iBAE/DT,EAAAC,EAAAC,cAACwF,GAAA,EAAD,CAAU3E,OAAQgQ,IAAuBxR,EAASE,IAChDO,EAAAC,EAAAC,cAAA,UACGX,EAASwI,cAAclF,IAAI,SAAAmF,GAC1B,OACEhI,EAAAC,EAAAC,cAAA,MAAI6C,IAAKiF,EAAYvI,IACnBO,EAAAC,EAAAC,cAAC4F,EAAA,EAAD,CAAMC,GAAE,aAAA/G,OAAegJ,EAAYvI,KAAOuI,EAAYrH,iBCb9E,IAAMqN,GAAY,IAAIC,KAAKC,aAAa,QAAS,CAAE1G,MAAO,WAAY2G,SAAU,QAsEhF,IAAMjG,GAAqB,CAAED,mBAAiBgJ,wBRpDvC,SAAiC1R,GACtC,OAAO,SAAC0E,EAAUC,GACFA,IAEJ5E,SAASvB,WAAWwB,KAE9B0E,EAAS,CAACvF,KAAMrB,EAAgCkC,aAEhD4E,GAAOC,IAAI,gBAAiB,CAAEmM,OAAQ,CAAEvI,YAAazI,KAClDgF,KAAK,SAAAC,GACJP,EAAS,CAACvF,KAAMpB,EAAgCiC,WAAUD,SAAUkF,EAASrF,KAAKG,aACjFmF,MAAM,SAAAjJ,GACTyI,EAAS,CAACvF,KAAMnB,EAAgCgC,WAAU/D,MAAOA,EAAMgJ,SAASrF,KAAK3D,cQ2C5EoJ,eAVf,SAAyBvG,EAAOyG,GAC9B,MAAO,CACLhG,WAAYT,EAAMS,WAClBQ,SAAUjB,EAAMiB,SAASvB,WAAW+G,EAAM9K,MAAMuW,OAAOhR,WAAa,KAOhC2I,GAAzBtD,CAvEf,SAAA9E,GAA6F,IAAzEhB,EAAyEgB,EAAzEhB,WAAYQ,EAA6DQ,EAA7DR,SAAU2I,EAAmDnI,EAAnDmI,gBAAiBgJ,EAAkCnR,EAAlCmR,wBAAyBjX,EAAS8F,EAAT9F,MAClFsL,oBAAU,WACR2C,IACAgJ,EAAwBjX,EAAMuW,OAAOhR,WACpC,CAACvF,EAAMuW,OAAOhR,WAJ0E,IAAAgD,EAM5CC,mBAAS,MANmCC,EAAA9D,OAAA+D,GAAA,EAAA/D,CAAA4D,EAAA,GAMpFwO,EANoFtO,EAAA,GAMhEuO,EANgEvO,EAAA,GAAAgG,EAOrCjG,mBAAS,IAP4BkG,EAAA/J,OAAA+D,GAAA,EAAA/D,CAAA8J,EAAA,GAOpFyI,EAPoFxI,EAAA,GAO/DyI,EAP+DzI,EAAA,GAoB3F,OAXApD,oBAAU,WAAM,IAAA8L,GAAA,EAAAC,GAAA,EAAAC,OAAA9S,EAAA,IACd,QAAA+S,EAAAC,EAAuB1S,EAAvB5E,OAAAuX,cAAAL,GAAAG,EAAAC,EAAAjG,QAAAmG,MAAAN,GAAA,EAAmC,KAAxB7R,EAAwBgS,EAAAhO,MAC3ByE,EAAczI,EAASwI,cAAcwE,KAAK,SAAAtF,GAAA,OAAAA,EAAExH,KAAezF,EAAMuW,OAAOhR,WAC9E,GAAKyI,EAAL,CACAgJ,EAAiBzR,EAASE,IAC1B0R,EAAuBnJ,GAEvB,QAPY,MAAA2J,GAAAN,GAAA,EAAAC,EAAAK,EAAA,YAAAP,GAAA,MAAAI,EAAAI,QAAAJ,EAAAI,SAAA,WAAAP,EAAA,MAAAC,KASb,CAACtX,EAAMuW,OAAOhR,SAAUT,EAAWP,SAEjCO,EAAWP,QAAWe,EAASf,OAKlCyB,EAAAC,EAAAC,cAAA,OAAKG,UAAU,aACbL,EAAAC,EAAAC,cAAA,OAAKG,UAAU,OACbL,EAAAC,EAAAC,cAAC4Q,GAAD,CAAmBhS,WAAYA,EAAYS,SAAUwR,IACrD/Q,EAAAC,EAAAC,cAAA,OAAKG,UAAU,qBACbL,EAAAC,EAAAC,cAAA,MAAIG,UAAU,6BAA6B6Q,EAAoBvQ,OAC9DrB,EAASuD,IAAI,SAAAnD,GACZ,OACEM,EAAAC,EAAAC,cAAA,OAAKG,UAAU,mBAAmB0C,IAAKrD,EAAQD,IAC7CO,EAAAC,EAAAC,cAAA,OAAKG,UAAU,iCACbL,EAAAC,EAAAC,cAAC4F,EAAA,EAAD,CAAMC,GAAE,YAAA/G,OAAcU,EAAQD,IAAMY,UAAU,eAC5CL,EAAAC,EAAAC,cAAA,OAAKM,IAAKd,EAAQ6O,OAAO,GAAI9N,IAAI,SAEnCT,EAAAC,EAAAC,cAAA,OAAKG,UAAU,gBACbL,EAAAC,EAAAC,cAAA,MAAIG,UAAU,kBACZL,EAAAC,EAAAC,cAAC4F,EAAA,EAAD,CAAMC,GAAE,YAAA/G,OAAcU,EAAQD,KAAOC,EAAQiB,QAE/CX,EAAAC,EAAAC,cAAA,KAAGG,UAAU,iDACXL,EAAAC,EAAAC,cAAA,cAAS8N,GAAUQ,OAAO9O,EAAQ+O,WAIxCzO,EAAAC,EAAAC,cAAA,OAAKG,UAAU,2BACbL,EAAAC,EAAAC,cAAA,MAAIG,UAAU,6BAA6B2N,GAAUQ,OAAO9O,EAAQ+O,QACpEzO,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAC4F,EAAA,EAAD,CAAMC,GAAE,aAAA/G,OAAeU,EAAQD,IAAMY,UAAU,0BAA/C,gDA5BTL,EAAAC,EAAAC,cAACwO,GAAD,QCtBLV,GAAY,IAAIC,KAAKC,aAAa,QAAS,CAAE1G,MAAO,WAAY2G,SAAU,QAkEhF,IAAMjG,GAAqB,CAAED,mBAAiB4J,qBThCvC,SAA8BrS,GACnC,OAAO,SAACyE,EAAUC,GAChB,IAAM7F,EAAQ6F,KAE4C,IAAtDE,KAAI/F,EAAD,oBAAAW,OAA4BQ,EAA5B,iBAEPyE,EAAS,CAACvF,KAAMlB,EAA6BgC,UAE7C2E,GAAOC,IAAI,gBAAiB,CAAEmM,OAAQ,CAAE/Q,WACrC+E,KAAK,SAAAC,GACJP,EAAS,CAACvF,KAAMjB,GAA6B+B,QAAOF,SAAUkF,EAASrF,KAAKG,aAC3EmF,MAAM,SAAAjJ,GACTyI,EAAS,CAACvF,KAAMhB,GAA6B8B,QAAOhE,MAAOA,EAAMgJ,SAASrF,KAAK3D,cSuBtEoJ,eAXf,SAAyBvG,EAAOyG,GAC9B,IAAMqD,EAASC,KAAYC,MAAMvD,EAAMhL,SAASwO,QAChD,MAAO,CACLxJ,WAAYT,EAAMS,WAClBQ,SAAUjB,EAAMiB,SAAStB,QAAQmK,EAAO3I,QAAU,KAOd0I,GAAzBtD,CAnEf,SAAA9E,GAA6F,IAAzEhB,EAAyEgB,EAAzEhB,WAAYQ,EAA6DQ,EAA7DR,SAAU2I,EAAmDnI,EAAnDmI,gBAAiB4J,EAAkC/R,EAAlC+R,qBAAsB/X,EAAYgG,EAAZhG,SACzEqO,EAASC,KAAYC,MAAMvO,EAASwO,QAO1C,OALAhD,oBAAU,WACR2C,IACA4J,EAAqB1J,EAAO3I,QAC3B,CAAC2I,EAAO3I,QAENV,EAAWP,QAAWe,EAASA,SAKlCU,EAAAC,EAAAC,cAAA,OAAKG,UAAU,aACbL,EAAAC,EAAAC,cAAA,OAAKG,UAAU,OACbL,EAAAC,EAAAC,cAAC4Q,GAAD,CAAmBhS,WAAYA,IACD,IAA7BQ,EAASA,SAASf,QACjByB,EAAAC,EAAAC,cAAA,OAAKG,UAAU,gDACbL,EAAAC,EAAAC,cAAA,MAAIG,UAAU,uBAAd,sGAGJL,EAAAC,EAAAC,cAAA,OAAKG,UAAU,qBACiB,IAA7Bf,EAASA,SAASf,QACjByB,EAAAC,EAAAC,cAAA,MAAIG,UAAU,uBAAd,2DAAArB,OAAmDmJ,EAAO3I,MAA1D,iIAEDF,EAASA,SAASuD,IAAI,SAAAnD,GACrB,OACEM,EAAAC,EAAAC,cAAA,OAAKG,UAAU,mBAAmB0C,IAAKrD,EAAQD,IAC7CO,EAAAC,EAAAC,cAAA,OAAKG,UAAU,iCACbL,EAAAC,EAAAC,cAAC4F,EAAA,EAAD,CAAMC,GAAE,YAAA/G,OAAcU,EAAQD,IAAMY,UAAU,eAC5CL,EAAAC,EAAAC,cAAA,OAAKM,IAAKd,EAAQ6O,OAAO,GAAI9N,IAAI,SAEnCT,EAAAC,EAAAC,cAAA,OAAKG,UAAU,gBACbL,EAAAC,EAAAC,cAAA,MAAIG,UAAU,kBAAiBL,EAAAC,EAAAC,cAAC4F,EAAA,EAAD,CAAMC,GAAE,YAAA/G,OAAcU,EAAQD,KAAOC,EAAQiB,QAC5EX,EAAAC,EAAAC,cAAA,KAAGG,UAAU,iDACXL,EAAAC,EAAAC,cAAA,cAAS8N,GAAUQ,OAAO9O,EAAQ+O,WAIxCzO,EAAAC,EAAAC,cAAA,OAAKG,UAAU,2BACbL,EAAAC,EAAAC,cAAA,MAAIG,UAAU,6BACX2N,GAAUQ,OAAO9O,EAAQ+O,QAE5BzO,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAC4F,EAAA,EAAD,CAAMC,GAAE,aAAA/G,OAAeU,EAAQD,IAAMY,UAAU,0BAA/C,gDAnCTL,EAAAC,EAAAC,cAACwO,GAAD,QChBX,SAASoD,KAA2C,IAA3BzR,EAA2B/B,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAf,GAAIyT,EAAWzT,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAClD,OAAKuT,EACE1R,EACJ2R,MAAM,KACNnP,IAAI,SAAAoP,GAAC,OAAIF,EAAUE,IAAMA,IACzBC,KAAK,KAJe7R,EAOzB,IAoCe8R,GApCY,SAACrN,GAAU,IAC5B2F,EAA6D3F,EAA7D2F,MAAOa,EAAsDxG,EAAtDwG,YAAayG,EAAyCjN,EAAzCiN,UAAWpF,EAA8B7H,EAA9B6H,eAAgBtM,EAAcyE,EAAdzE,UAEjD+R,EAAcN,GAAgBjQ,KAAGxB,EAAW,uBAAwB0R,GACpEM,EAAa5H,EAAM5H,IAAI,SAACgD,EAAMyM,GAClC,IAAMC,EAAmBT,GAAgBjQ,KACvC,CAAE2Q,OAAQlH,IAAgBgH,IACzBP,GACH,OACE/R,EAAAC,EAAAC,cAAA,MACE6C,IAAG,GAAA/D,OAAK6G,EAAK9C,KAAOpE,OAAOwJ,OAAOtC,GAAMqM,KAAK,KAC7C5R,QAAS,SAAC8C,GACRA,EAAEC,iBACFsJ,EAAe2F,IAEjBjS,UAAWkS,GAEXvS,EAAAC,EAAAC,cAAA,OAAKM,IAAKqF,EAAMpF,IAAG,iBAAAzB,OAAmB6G,EAAK9C,UAIjD,OACE/C,EAAAC,EAAAC,cAAA,MAAIG,UAAW+R,GACZC,IC4CQI,eArEb,SAAAA,EAAY3N,GAAO,IAAAkG,EAAA,OAAArM,OAAAsM,GAAA,EAAAtM,CAAAuM,KAAAuH,IACjBzH,EAAArM,OAAAwM,GAAA,EAAAxM,CAAAuM,KAAAvM,OAAAyM,GAAA,EAAAzM,CAAA8T,GAAApH,KAAAH,KAAMpG,KACDzG,MAAQ,CAAEiN,YAAa,GAC5BN,EAAKO,KAAOP,EAAKO,KAAKC,KAAV7M,OAAA8M,GAAA,EAAA9M,QAAA8M,GAAA,EAAA9M,CAAAqM,KACZA,EAAKU,SAAWV,EAAKU,SAASF,KAAd7M,OAAA8M,GAAA,EAAA9M,QAAA8M,GAAA,EAAA9M,CAAAqM,KAChBA,EAAKW,UAAYX,EAAKW,UAAUH,KAAf7M,OAAA8M,GAAA,EAAA9M,QAAA8M,GAAA,EAAA9M,CAAAqM,KACjBA,EAAKY,UAAYZ,EAAKY,UAAUJ,KAAf7M,OAAA8M,GAAA,EAAA9M,QAAA8M,GAAA,EAAA9M,CAAAqM,KACjBA,EAAKa,SAAWb,EAAKa,SAASL,KAAd7M,OAAA8M,GAAA,EAAA9M,QAAA8M,GAAA,EAAA9M,CAAAqM,KAPCA,6EAWjBE,KAAKY,WAAY,qCAIjBZ,KAAKY,WAAY,iCAIjB,IAAIZ,KAAKY,UAAT,CACA,IAAMC,EAAYb,KAAK7M,MAAMiN,cAAgBJ,KAAKpG,MAAMyJ,OAAOhQ,OAAS,EAAI,EAAI2M,KAAK7M,MAAMiN,YAAc,EACzGJ,KAAKc,SAAS,CAAEV,YAAaS,wCAI7B,IAAIb,KAAKY,UAAT,CACA,IAAMC,EAAuC,IAA3Bb,KAAK7M,MAAMiN,YAAoBJ,KAAKpG,MAAMyJ,OAAOhQ,OAAS,EAAI2M,KAAK7M,MAAMiN,YAAc,EACzGJ,KAAKc,SAAS,CAAEV,YAAaS,uCAGrBE,GACJf,KAAKY,WACTZ,KAAKc,SAAS,CAAEV,YAAaW,qCAGtB,IAAAC,EAAAhB,KACCI,EAAgBJ,KAAK7M,MAArBiN,YAEFa,EAASjB,KAAKpG,MAAMyJ,OAAO1L,IAAI,SAACgD,EAAM9C,GAC1C,OACE/C,EAAAC,EAAAC,cAACsM,GAAA,EAAD,CACEZ,UAAWM,EAAKN,UAChBC,SAAUK,EAAKL,SACf9I,IAAKA,GAEL/C,EAAAC,EAAAC,cAAA,OAAKG,UAAU,YACbL,EAAAC,EAAAC,cAAA,OAAKM,IAAKqF,EAAMpF,IAAKoF,EAAK8E,cAMlC,OACE3K,EAAAC,EAAAC,cAACuM,GAAA,EAAD,CACEnB,YAAaA,EACbC,KAAML,KAAKK,KACXG,SAAUR,KAAKQ,SACfrL,UAAU,mBACVkO,OAAQrD,KAAKpG,MAAMyJ,QAEnBvO,EAAAC,EAAAC,cAACwS,GAAD,CAAoBjI,MAAOS,KAAKpG,MAAMyJ,OAAQjD,YAAaA,EAAaqB,eAAgBzB,KAAKS,YAC5FQ,EACDnM,EAAAC,EAAAC,cAAC0M,GAAA,EAAD,CAAiBC,UAAU,OAAOC,cAAc,WAAWH,eAAgBzB,KAAKQ,WAChF1L,EAAAC,EAAAC,cAAC0M,GAAA,EAAD,CAAiBC,UAAU,OAAOC,cAAc,OAAOH,eAAgBzB,KAAKK,eAhEtDwB,aCFxBiB,GAAY,IAAIC,KAAKC,aAAa,QAAS,CAAE1G,MAAO,WAAY2G,SAAU,QA4ChF,IAAMjG,GAAqB,CAAEyG,qBAGd/J,eATf,SAAyBvG,EAAOyG,GAC9B,MAAO,CACLpF,QAASrB,EAAMiB,SAASrB,KAAK6G,EAAM9K,MAAMuW,OAAO9Q,KAAO,KAOnByI,GAAzBtD,CA7Cf,SAAA9E,GAAuD,IAApCJ,EAAoCI,EAApCJ,QAASiP,EAA2B7O,EAA3B6O,iBAAkB3U,EAAS8F,EAAT9F,MAK5C,OAJAsL,oBAAU,WACRqJ,EAAiB3U,EAAMuW,OAAO9Q,KAC7B,CAACzF,EAAMuW,OAAO9Q,KAEbC,EAAQzD,WAAayD,EAAQA,QACxBM,EAAAC,EAAAC,cAACwO,GAAD,MAIP1O,EAAAC,EAAAC,cAAA,OAAKG,UAAU,aACbL,EAAAC,EAAAC,cAAA,OAAKG,UAAU,OACbL,EAAAC,EAAAC,cAAA,OAAKG,UAAU,YACbL,EAAAC,EAAAC,cAACyS,GAAD,CAAiBpE,OAAQ7O,EAAQA,QAAQ6O,UAE3CvO,EAAAC,EAAAC,cAAA,OAAKG,UAAU,YACbL,EAAAC,EAAAC,cAAA,OAAKG,UAAU,gBACbL,EAAAC,EAAAC,cAAA,MAAIG,UAAU,MAAMX,EAAQA,QAAQiB,OACpCX,EAAAC,EAAAC,cAAA,OAAKG,UAAU,uCACbL,EAAAC,EAAAC,cAAA,OAAKG,UAAU,YACbL,EAAAC,EAAAC,cAAA,KAAGG,UAAU,qBACVX,EAAQA,QAAQkT,cAGrB5S,EAAAC,EAAAC,cAAA,OAAKG,UAAU,YACbL,EAAAC,EAAAC,cAAA,MAAIG,UAAU,kCAAkC2N,GAAUQ,OAAO9O,EAAQA,QAAQ+O,QACjFzO,EAAAC,EAAAC,cAAC4F,EAAA,EAAD,CAAMC,GAAE,aAAA/G,OAAeU,EAAQA,QAAQD,IAAMY,UAAU,0BAAvD,oEC3BhB,IAAM2N,GAAY,IAAIC,KAAKC,aAAa,QAAS,CAAE1G,MAAO,WAAY2G,SAAU,QAgIhF,IAAMjG,GAAqB,CAAEyG,oBAAkBjK,WAASmO,SCrIjD,SAAkB1T,GACvB,OAAO,SAAC8E,EAAUC,GAChB,IACM9I,EADQ8I,IACM9F,KAAKhD,MAEzB6I,EAAS,CAACvF,KAAM5B,EAAiBqC,SAEjCgF,GAAOyL,KAAK,cAAezQ,EAAM,CAC/BkF,QAAS,CACPC,cAAa,UAAAtF,OAAY5D,MAE1BmJ,KAAK,SAAAC,GACNP,EAAS,CAACvF,KAAM3B,EAAiBoC,OAAME,MAAOmF,EAASrF,KAAKE,UAC3DoF,MAAM,SAAAjJ,GACPyI,EAAS,CAACvF,KAAM1B,EAAiBmC,OAAMxD,OAAQH,EAAMgJ,SAASrF,KAAKxD,cD0H1DiJ,eAZf,SAAyBvG,EAAOyG,GAC9B,MAAO,CACLpF,QAASrB,EAAMiB,SAASrB,KAAK6G,EAAM9K,MAAMuW,OAAO9Q,KAAO,GACvDxC,MAAOoB,EAAMa,OAAOjC,MACpBjB,GAAIqC,EAAMD,KAAKpC,GACfZ,MAAOiD,EAAMD,KAAKhD,QAOkB8M,GAAzBtD,CAjIf,SAAA9E,GAAsG,IAAlF1E,EAAkF0E,EAAlF1E,MAAOsE,EAA2EI,EAA3EJ,QAASzC,EAAkE6C,EAAlE7C,MAAOjB,EAA2D8D,EAA3D9D,GAAI2S,EAAuD7O,EAAvD6O,iBAAkBjK,EAAqC5E,EAArC4E,QAASmO,EAA4B/S,EAA5B+S,SAAU7Y,EAAkB8F,EAAlB9F,MAAOkN,EAAWpH,EAAXoH,QACzF5B,oBAAU,WACR,IAAKlK,EAAO,OAAO8L,EAAQ4L,QAAQ,WAClC,IAEHxN,oBAAU,WACRZ,IACAiK,EAAiB3U,EAAMuW,OAAO9Q,KAC7B,CAACzF,EAAMuW,OAAO9Q,KARmF,IAAA8C,EAU1EC,mBAAS,WAViEC,EAAA9D,OAAA+D,GAAA,EAAA/D,CAAA4D,EAAA,GAU7FlE,EAV6FoE,EAAA,GAUtFuJ,EAVsFvJ,EAAA,GAAAgG,EAY1EjG,mBAAS,gBAZiEkG,EAAA/J,OAAA+D,GAAA,EAAA/D,CAAA8J,EAAA,GAY7FsK,EAZ6FrK,EAAA,GAYtFsK,EAZsFtK,EAAA,GAAAuK,EAatEzQ,mBAAS,qKAb6D0Q,EAAAvU,OAAA+D,GAAA,EAAA/D,CAAAsU,EAAA,GAa7FE,EAb6FD,EAAA,GAapFE,EAboFF,EAAA,GAuCpG,OAxBA5N,oBAAU,YACe,IAAnBrI,EAAMhB,SAKJgB,EAAMtB,QAAoB,YAAV0C,EACpB2N,EAAS,WAIN/O,EAAMtB,QAAoB,YAAV0C,GACnB2N,EAAS,YAVTA,EAAS,YAYV,CAAC/O,IAUAyC,EAAQzD,WAAayD,EAAQA,SAAW1D,EAAGC,WAAaD,EAAGE,QACtD8D,EAAAC,EAAAC,cAACwO,GAAD,MAIP1O,EAAAC,EAAAC,cAAA,OAAKG,UAAU,aACbL,EAAAC,EAAAC,cAAA,OAAKG,UAAU,8BACbL,EAAAC,EAAAC,cAAA,OAAKG,UAAU,aACbL,EAAAC,EAAAC,cAACgD,GAAA,EAAD,CAAMC,SAhBd,SAAkByE,GAChBA,EAAMvE,iBACNwP,EAAS,CACPnT,QAAS1F,EAAMuW,OAAO9Q,GACtBsT,QAAOI,cAaDnT,EAAAC,EAAAC,cAAA,MAAIG,UAAU,+BAAd,uDACGpD,EAAMtB,QAAUgD,OAAO0U,KAAKpW,EAAMtB,QAAQkH,IAAI,SAAArH,GAAK,OACpDwE,EAAAC,EAAAC,cAACoT,GAAA,EAAD,CAAOlT,MAAM,UAAU2C,IAAKvH,GAAQyB,EAAMtB,OAAOH,MAExC,aAAV6C,GACC2B,EAAAC,EAAAC,cAACoT,GAAA,EAAD,CAAOlT,MAAM,WAAb,6SAIFJ,EAAAC,EAAAC,cAAA,OAAKG,UAAU,oBACbL,EAAAC,EAAAC,cAAA,OAAKG,UAAU,iCACbL,EAAAC,EAAAC,cAAA,OAAKG,UAAU,eACbL,EAAAC,EAAAC,cAAA,OAAKM,IAAKd,EAAQA,QAAQ6O,OAAO,GAAI9N,IAAI,SAE3CT,EAAAC,EAAAC,cAAA,OAAKG,UAAU,gBACbL,EAAAC,EAAAC,cAAA,MAAIG,UAAU,kBAAkBX,EAAQA,QAAQiB,OAChDX,EAAAC,EAAAC,cAAA,KAAGG,UAAU,iDACXL,EAAAC,EAAAC,cAAA,cAAS8N,GAAUQ,OAAO9O,EAAQA,QAAQ+O,WAIhDzO,EAAAC,EAAAC,cAAA,OAAKG,UAAU,kDACbL,EAAAC,EAAAC,cAAA,KAAGG,UAAU,0BAAb,UACAL,EAAAC,EAAAC,cAAA,MAAIG,UAAU,6BAA6B2N,GAAUQ,OAAO9O,EAAQA,QAAQ+O,UAGhFzO,EAAAC,EAAAC,cAAA,MAAIG,UAAU,+BAAd,6EACAL,EAAAC,EAAAC,cAAA,OAAKG,UAAU,iDACbL,EAAAC,EAAAC,cAAA,OAAKG,UAAU,OACbL,EAAAC,EAAAC,cAAA,OAAKG,UAAU,YACbL,EAAAC,EAAAC,cAACqH,GAAA,EAAD,KACEvH,EAAAC,EAAAC,cAACqT,GAAA,EAAD,CAAOC,IAAI,gBAAX,uBACAxT,EAAAC,EAAAC,cAACoD,GAAA,EAAD,CAAOiM,UAAQ,EAAChM,MAAOvH,EAAGE,QAAQkJ,YAAa1G,KAAK,OAAO2B,UAAU,eAAeZ,GAAG,kBAEzFO,EAAAC,EAAAC,cAACqH,GAAA,EAAD,CAAWlH,UAAU,QACnBL,EAAAC,EAAAC,cAACqT,GAAA,EAAD,CAAOC,IAAI,iBAAX,UACAxT,EAAAC,EAAAC,cAAA,SAAOqP,UAAQ,EAAChM,MAAOvH,EAAGE,QAAQwT,MAAOhR,KAAK,QAAQ2B,UAAU,eAAeZ,GAAG,oBAGtFO,EAAAC,EAAAC,cAAA,OAAKG,UAAU,YACbL,EAAAC,EAAAC,cAACqH,GAAA,EAAD,KACEvH,EAAAC,EAAAC,cAACqT,GAAA,EAAD,CAAOC,IAAI,iBAAX,+CACAxT,EAAAC,EAAAC,cAAA,SAAOqD,MAAOwP,EAAOrU,KAAK,OAAO2B,UAAU,eAAeZ,GAAG,gBACtD8P,SAAoB,aAAVlR,EACVmF,SAAU,SAAAJ,GAAC,OAAI4P,EAAS5P,EAAEK,OAAOF,QACjCoE,YAAY,sBAErB3H,EAAAC,EAAAC,cAACqH,GAAA,EAAD,CAAWlH,UAAU,QACnBL,EAAAC,EAAAC,cAACqT,GAAA,EAAD,CAAOC,IAAI,iBAAX,mCACAxT,EAAAC,EAAAC,cAACoD,GAAA,EAAD,CAAOC,MAAO4P,EAASzU,KAAK,OAAO2B,UAAU,eAAeZ,GAAG,gBACxD+D,SAAU,SAAAJ,GAAC,OAAIgQ,EAAWhQ,EAAEK,OAAOF,QACnCgM,SAAoB,aAAVlR,EACVsJ,YAAY,0KAK3B3H,EAAAC,EAAAC,cAAA,OAAKG,UAAU,iCACbL,EAAAC,EAAAC,cAACC,GAAA,EAAD,CAAQoP,SAAoB,aAAVlR,EAAsBK,KAAK,SAAS0B,MAAM,UAAUqT,KAAK,MAA3E,qIElGdC,IAASC,OACP3T,EAAAC,EAAAC,cAAC0T,EAAA,EAAD,CAAUC,MAAOA,IACf7T,EAAAC,EAAAC,cAAC4F,EAAA,EAAD,KACE9F,EAAAC,EAAAC,cAAC4T,GAAD,KACE9T,EAAAC,EAAAC,cAAC2P,EAAA,EAAD,CAAOkE,OAAK,EAACC,KAAK,IAAIC,UAAWC,KACjClU,EAAAC,EAAAC,cAAC2P,EAAA,EAAD,CAAOmE,KAAK,SAASC,UAAWE,KAChCnU,EAAAC,EAAAC,cAAC2P,EAAA,EAAD,CAAOmE,KAAK,mBAAmBC,UAAWG,KAC1CpU,EAAAC,EAAAC,cAAC2P,EAAA,EAAD,CAAOmE,KAAK,YAAYC,UAAWI,KACnCrU,EAAAC,EAAAC,cAAC2P,EAAA,EAAD,CAAOmE,KAAK,8BAA8BC,UAAWK,KACrDtU,EAAAC,EAAAC,cAAC2P,EAAA,EAAD,CAAOmE,KAAK,sBAAsBC,UAAWM,KAC7CvU,EAAAC,EAAAC,cAAC2P,EAAA,EAAD,CAAOmE,KAAK,UAAUC,UAAWO,KACjCxU,EAAAC,EAAAC,cAAC2P,EAAA,EAAD,CAAOmE,KAAK,eAAeC,UAAWQ,KACtCzU,EAAAC,EAAAC,cAAC2P,EAAA,EAAD,CAAOmE,KAAK,gBAAgBC,UAAWS,QAI7CC,SAASC,eAAe,SlD+FpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMxQ,KAAK,SAAA7I,GACjCA,EAAasZ","file":"static/js/main.49dcd2d4.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","export const LoginRequest = Symbol('LoginRequest');\nexport const LoginFailure = Symbol('LoginFailure');\nexport const LoginSuccess = Symbol('LoginSuccess');\n\nexport const RegisterRequest = Symbol('RegisterRequest');\nexport const RegisterFailure = Symbol('RegisterFailure');\nexport const RegisterSuccess = Symbol('RegisterSuccess');\n\nexport const ConfirmRequest = Symbol('ConfirmRequest');\nexport const ConfirmFailure = Symbol('ConfirmFailure');\nexport const ConfirmSuccess = Symbol('ConfirmSuccess');\n\nexport const OAuthRequest = Symbol('OAuthRequest');\nexport const OAuthFailure = Symbol('OAuthFailure');\n\nexport const OAuthCallbackRequest = Symbol('OAuthCallbackRequest');\nexport const OAuthCallbackFailure = Symbol('OAuthCallbackFailure');\nexport const OAuthCallbackSuccess = Symbol('OAuthCallbackSuccess');\n\nexport const FetchMeRequest = Symbol('FetchMeRequest');\nexport const FetchMeSuccess = Symbol('FetchMeSuccess');\nexport const FetchMeFailure = Symbol('FetchMeFailure');\n","import {\n  LoginRequest, LoginSuccess, LoginFailure,\n  RegisterRequest, RegisterSuccess, RegisterFailure,\n  ConfirmRequest, ConfirmSuccess, ConfirmFailure,\n  OAuthRequest, OAuthFailure,\n  OAuthCallbackRequest, OAuthCallbackSuccess, OAuthCallbackFailure, FetchMeRequest, FetchMeSuccess,\n} from './constants';\n\nconst token = localStorage.getItem('token') || null;\n\nconst initialState = {\n  token,\n  login: {\n    error: null,\n    processing: false,\n  },\n  registration: {\n    errors: null,\n    processing: false,\n    complete: false,\n  },\n  confirmation: {\n    error: null,\n    processing: false,\n  },\n  oauth: {\n    error: null,\n    processing: false,\n  },\n  oauthCallback: {\n    error: null,\n    processing: false,\n  },\n  me: {\n    fetching: false,\n    profile: null,\n  }\n};\n\nexport default function reducer(state = initialState, action) {\n  switch (action.type) {\n    case LoginRequest:\n      return {\n        ...state,\n        login: {...initialState.login, processing: true}\n      };\n    case LoginSuccess:\n      localStorage.setItem('token', action.token);\n      return {\n        ...state,\n        login: initialState.login,\n        token: action.token\n      };\n    case LoginFailure:\n      return {\n        ...state,\n        login: {...initialState.login, error: action.error, processing: false}\n      };\n    case RegisterRequest:\n      return {\n        ...state,\n        registration: {...initialState.registration, processing: true}\n      };\n    case RegisterSuccess:\n      return {\n        ...state,\n        registration: {...initialState.registration, processing: false, complete: true,}\n      };\n    case RegisterFailure:\n      return {\n        ...state,\n        registration: {...initialState.registration, errors: action.errors, processing: false}\n      };\n    case ConfirmRequest:\n      return {\n        ...state,\n        confirmation: {...initialState.confirmation, processing: true}\n      };\n    case ConfirmSuccess:\n      localStorage.setItem('token', action.token);\n      return {...state, confirmation: initialState.confirmation, token: action.token};\n    case ConfirmFailure:\n      return {\n        ...state,\n        confirmation: {...initialState.confirmation, error: action.error, processing: false}\n      };\n    case OAuthRequest:\n      return {\n        ...state,\n        oauth: {...initialState.oauth, processing: true}\n      };\n    case OAuthFailure:\n      return {\n        ...state, oauth: {...initialState.oauth, error: action.error, processing: false}\n      };\n    case OAuthCallbackRequest:\n      return {\n        ...state,\n        oauthCallback: {...initialState.oauthCallback, processing: true}\n      };\n    case OAuthCallbackFailure:\n      return {\n        ...state,\n        oauthCallback: {...initialState.oauthCallback, error: action.error, processing: false}\n      };\n    case OAuthCallbackSuccess:\n      localStorage.setItem('token', action.token);\n      return {...state, oauthCallback: initialState.oauthCallback, token: action.token};\n    case FetchMeRequest:\n      return {...state, me: { ...initialState.me, fetching: true }};\n    case FetchMeSuccess:\n      return {...state, me: { ...initialState.me, profile: action.profile }};\n    default:\n      return state;\n  }\n}\n","export const FetchCategoriesRequest = Symbol('FetchCategoriesRequest');\nexport const FetchCategoriesSuccess = Symbol('FetchCategoriesSuccess');\nexport const FetchCategoriesFailure = Symbol('FetchCategoriesFailure');\n","import {\n  FetchCategoriesSuccess\n} from './constants';\n\nconst initialState = [];\n\nexport default function reducer(state = initialState, action) {\n  if (action.type === FetchCategoriesSuccess) {\n    return action.categories;\n  }\n  return state;\n}\n","export const WebsocketConnected = Symbol('WebsocketConnected');\nexport const WebsocketDisconnected = Symbol('WebsocketDisconnected');\nexport const Message = Symbol('Message');\n\nexport const FetchMessagesRequest = Symbol('FetchMessagesRequest');\nexport const FetchMessagesSuccess = Symbol('FetchMessagesSuccess');\nexport const FetchMessagesFailure = Symbol('FetchMessagesFailure');\n","import {\n  FetchMessagesSuccess,\n  WebsocketConnected, WebsocketDisconnected,\n  Message,\n} from './constants';\n\nconst initialState = {\n  isWebsocketConnected: false,\n  messages: [],\n};\n\nexport default function reducer(state = initialState, action) {\n  switch (action.type) {\n    case FetchMessagesSuccess:\n      return {\n        ...state,\n        messages: action.messages.concat(state.messages),\n      };\n    case WebsocketConnected:\n      return { ...state, isWebsocketConnected: true };\n    case WebsocketDisconnected:\n      return { ...state, isWebsocketConnected: false };\n    case Message:\n      return {\n        ...state,\n        messages: state.messages.concat(action.message),\n      };\n    default:\n      return state;\n  }\n}\n","export const CheckoutRequest = Symbol('CheckoutRequest');\nexport const CheckoutSuccess = Symbol('CheckoutSuccess');\nexport const CheckoutFailure = Symbol('CheckoutFailure');\n","import {CheckoutRequest, CheckoutSuccess, CheckoutFailure} from \"./constants\";\n\nconst initialState = {\n  draft: {\n    fetching: false,\n    errors: null,\n  },\n};\n\nexport default function reducer(state = initialState, action) {\n  switch (action.type) {\n    case CheckoutRequest:\n      return {\n        ...state,\n        draft: {\n          fetching: true,\n          error: null,\n          ...action.data,\n        }\n      };\n    case CheckoutSuccess:\n      return {\n        ...state,\n        draft: {\n          fetching: false,\n          error: null,\n        },\n        [action.order]: action.data,\n      };\n    case CheckoutFailure:\n      return {\n        ...state,\n        draft: {\n          ...state.draft,\n          fetching: false,\n          errors: action.errors,\n        }\n      };\n    default:\n      return state;\n  }\n}\n","export const FetchRecommendationsRequest = Symbol('FetchRecommendationsRequest');\nexport const FetchRecommendationsSuccess = Symbol('FetchRecommendationsSuccess');\nexport const FetchRecommendationsFailure = Symbol('FetchRecommendationsFailure');\n\nexport const FetchProductsByCategoryRequest = Symbol('FetchProductsByCategoryRequest');\nexport const FetchProductsByCategorySuccess = Symbol('FetchProductsByCategorySuccess');\nexport const FetchProductsByCategoryFailure = Symbol('FetchProductsByCategoryFailure');\n\nexport const FetchProductsByQueryRequest = Symbol('FetchProductsByQueryRequest');\nexport const FetchProductsByQuerySuccess = Symbol('FetchProductsByQuerySuccess');\nexport const FetchProductsByQueryFailure = Symbol('FetchProductsByQueryFailure');\n\nexport const FetchProductByIdRequest = Symbol('FetchProductByIdRequest');\nexport const FetchProductByIdSuccess = Symbol('FetchProductByIdSuccess');\nexport const FetchProductByIdFailure = Symbol('FetchProductByIdFailure');\n","import {\n  FetchRecommendationsSuccess,\n  FetchProductsByCategorySuccess,\n  FetchProductsByQueryRequest,\n  FetchProductsByQuerySuccess,\n  FetchProductByIdRequest,\n  FetchProductByIdSuccess,\n} from './constants';\n\nconst initialState = {\n  recommendations: [],\n  byCategory: {},\n  byQuery: {},\n  byId: {}\n};\n\nexport default function reducer(state = initialState, action) {\n  switch (action.type) {\n    case FetchRecommendationsSuccess:\n      return { ...state, recommendations: action.recommendations, };\n    case FetchProductsByCategorySuccess:\n      return {\n        ...state,\n        byCategory: {\n          ...state.byCategory,\n          [action.category]: action.products,\n        }\n      };\n    case FetchProductsByQueryRequest:\n      return {\n        ...state,\n        byQuery: {\n          ...state.byQuery,\n          [action.query]: {\n            fetching: true,\n            products: []\n          }\n        }\n      };\n    case FetchProductsByQuerySuccess:\n      return {\n        ...state,\n        byQuery: {\n          ...state.byQuery,\n          [action.query]: {\n            fetching: false,\n            products: action.products,\n          }\n        }\n      };\n    case FetchProductByIdRequest:\n      return {\n        ...state,\n        byId: {\n          ...state.byId,\n          [action.id]: {\n            fetching: true,\n            product: null\n          }\n        }\n      };\n    case FetchProductByIdSuccess:\n      return {\n        ...state,\n        byId: {\n          ...state.byId,\n          [action.id]: {\n            fetching: false,\n            product: action.product\n          }\n        }\n      };\n    default:\n      return state;\n  }\n}\n","import { createStore, applyMiddleware, combineReducers } from 'redux';\nimport thunkMiddleware from 'redux-thunk';\n\nimport authReducer from './modules/auth/reducer';\nimport categoriesReducer from './modules/categories/reducer';\nimport chatReducer from './modules/chat/reducer';\nimport ordersReducer from './modules/orders/reducer';\nimport productsReducer from './modules/products/reducer';\n\nexport default createStore(\n  combineReducers({\n    auth: authReducer,\n    categories: categoriesReducer,\n    chat: chatReducer,\n    orders: ordersReducer,\n    products: productsReducer,\n  }),\n  applyMiddleware(thunkMiddleware)\n);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {Button} from 'reactstrap';\n\nconst ModalBtnBack = ({handleToggleModal}) => (\n  <Button\n    color=\"link\"\n    className=\"arrow-back px-2 py-2\"\n    onClick={handleToggleModal}\n    aria-label=\"back\"\n  >\n    <img src=\"/assets/icons/icon-arrow.svg\" alt=\"back\"/>\n  </Button>\n);\n\nModalBtnBack.propTypes = {\n  handleToggleModal: PropTypes.func.isRequired\n};\n\nexport default ModalBtnBack;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {Button} from 'reactstrap';\n\nconst ModalBtnBack = ({handleToggleModal}) => (\n  <Button\n    color=\"link\"\n    className=\"btn-close float-none px-2 py-2\"\n    onClick={handleToggleModal}\n    aria-label=\"close\"\n  >\n    <img src=\"/assets/icons/icon-close.svg\" alt=\"close\"/>\n  </Button>\n);\n\nModalBtnBack.propTypes = {\n  handleToggleModal: PropTypes.func.isRequired\n};\n\nexport default ModalBtnBack;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {Modal as ReactstrapModal, ModalHeader} from 'reactstrap';\nimport ModalBtnBack from './ModalBtnBack';\nimport ModalBtnClose from './ModalBtnClose';\n\nconst Modal = ({title, content, isBackBtn, isCloseBtn, isOpen, handleToggleModal, ...rest}) => (\n  <ReactstrapModal\n    title={title}\n    isOpen={isOpen}\n    toggle={handleToggleModal}\n    content={content}\n    {...rest}\n  >\n    <ModalHeader>\n      {title}\n      {isBackBtn && (<ModalBtnBack handleToggleModal={handleToggleModal} />)}\n      {isCloseBtn && (<ModalBtnClose handleToggleModal={handleToggleModal} />)}\n    </ModalHeader>\n    {content}\n  </ReactstrapModal>\n);\n\nModal.propTypes = {\n  title: PropTypes.string,\n  isBackBtn: PropTypes.bool,\n  isCloseBtn: PropTypes.bool,\n  content: PropTypes.element.isRequired,\n  isOpen: PropTypes.bool.isRequired,\n  handleToggleModal: PropTypes.func.isRequired\n};\n\nexport default Modal;\n","import React from 'react';\n// import PropTypes from 'prop-types';\nimport cx from 'classnames';\n\nconst ChatMessage = ({income, outcome, date, from, message}) => (\n  <div className={cx(\"chat__message\", {'-income': income, '-outcome': outcome})}>\n    <div className=\"chat__message--date\">{from} @ {formatDate(date)}</div>\n    <div className=\"chat__message--inner\">\n      {message}\n    </div>\n  </div>\n);\n\nfunction formatDate(date) {\n  const d = new Date(date);\n  return `${d.getHours()}:${d.getMinutes()}`;\n}\n\n\nChatMessage.propTypes = {\n  // message: PropTypes.string.isRequired\n};\n\nexport default ChatMessage;\n","import React, {useEffect, useState} from 'react';\nimport {Button, Form, Input} from 'reactstrap';\nimport ChatMessage from './ChatMessage';\n// import Loader from '../Loader';\n// import {fetchMessages} from \"../../store/modules/chat/actions\";\n// import {connect} from \"react-redux\";\n\nconst ChatInner = ({isWebsocketConnected, messages, sendMessage}) => {\n  // useEffect(() => {\n  //   fetchMessages();\n  // }, []);\n  //\n  // if (!messages.length) {\n  //   return <Loader />;\n  // }\n  \n  const [msg, setMsg] = useState('');\n  \n  function onSubmit(e) {\n    e.preventDefault();\n    if (isWebsocketConnected) {\n      sendMessage(msg);\n      setMsg('');\n    }\n  }\n\n  return (\n    <div className=\"chat__inner\">\n      <div className=\"chat__body\">\n        {messages.map(message => {\n          return (\n            <ChatMessage\n              key={message.id}\n              income\n              date={message.date}\n              from={message.user}\n              message={message.text} />\n          );\n        })}\n      </div>\n      <div className=\"chat__footer\">\n        <Form onSubmit={onSubmit} className=\"form-inline form-inline-flex\">\n          <Input value={msg} onChange={e => setMsg(e.target.value)} className=\"form-control mr-2\" type=\"text\" />\n          <Button type=\"submit\" color=\"link\" className=\"btn btn-send\">\n            <img src=\"/assets/icons/icon-send.svg\" alt=\"\" />\n          </Button>\n        </Form>\n      </div>\n    </div>\n  )\n};\n\n// function mapStateToProps(state) {\n//   return { messages: state.messages };\n// }\n//\n// const mapDispatchToProps = { fetchMessages };\n//\n// export default connect(mapStateToProps, mapDispatchToProps)(ChatInner);\n\nexport default ChatInner;\n","import axios from 'axios';\n\nexport default axios.create({\n  // baseURL: 'http://localhost:3001',\n  validateStatus: status => {\n    if (status === 401) {\n      localStorage.removeItem('token');\n      window.location.reload(true);\n      return;\n    }\n    return status <= 399;\n  }\n});\n","import client from '../../../network';\nimport {Message} from './constants';\n\nimport {\n  FetchMessagesRequest, FetchMessagesSuccess, FetchMessagesFailure,\n} from './constants';\n\nexport function fetchMessages() {\n  return (dispatch, getState) => {\n    dispatch({type: FetchMessagesRequest});\n    \n    const state = getState();\n    const token = state.auth.token;\n    \n    client.get('/api/messages', {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    }).then(response => {\n      dispatch({type: FetchMessagesSuccess, messages: response.data.messages});\n    }).catch(error => {\n      dispatch({type: FetchMessagesFailure, error: error.response.data.error});\n    });\n  }\n}\n\nexport function sendMessage(message) {\n  return { type: Message, message };\n}\n","import client from '../../../network';\n\nimport {\n  LoginRequest, LoginSuccess, LoginFailure,\n  RegisterRequest, RegisterSuccess, RegisterFailure,\n  ConfirmRequest, ConfirmSuccess, ConfirmFailure,\n  OAuthRequest, OAuthFailure,\n  OAuthCallbackRequest, OAuthCallbackSuccess, OAuthCallbackFailure,\n  FetchMeRequest, FetchMeSuccess, FetchMeFailure,\n} from './constants';\n\nexport function login({email, password}) {\n  return (dispatch, getState) => {\n    dispatch({type: LoginRequest});\n    \n    client.post('/api/login', {\n      email, password\n    }).then(response => {\n      dispatch({type: LoginSuccess, token: response.data.token});\n    }).catch(error => {\n      dispatch({type: LoginFailure, error: error.response.data.error});\n    });\n  }\n}\n\nexport function register({email, displayName, password}) {\n  return (dispatch, getState) => {\n    dispatch({type: RegisterRequest});\n    \n    client.post('/api/register', {\n      email, displayName, password\n    }).then(response => {\n      dispatch({type: RegisterSuccess});\n    }).catch(error => {\n      dispatch({type: RegisterFailure, errors: error.response.data.errors});\n    });\n  }\n}\n\nexport function confirm({verificationToken}) {\n  return (dispatch, getState) => {\n    dispatch({type: ConfirmRequest});\n    \n    client.post('/api/confirm', {\n      verificationToken\n    }).then(response => {\n      dispatch({type: ConfirmSuccess, token: response.data.token});\n    }).catch(error => {\n      dispatch({type: ConfirmFailure, error: error.response.data.error});\n    });\n  }\n}\n\nexport function oauth({provider}) {\n  return (dispatch, getState) => {\n    dispatch({type: OAuthRequest});\n    \n    client.get(`/api/oauth/${provider}`)\n      .then(response => {\n        window.location.href = response.data.location;\n      })\n      .catch(error => {\n        dispatch({type: OAuthFailure, error: error.response.data.error});\n      });\n  }\n}\n\nexport function oauthCallback({provider, code}) {\n  return (dispatch, getState) => {\n    dispatch({type: OAuthCallbackRequest});\n    \n    client.post('/api/oauth_callback', {\n      provider\n    }, {\n      params: { code }\n    }).then(response => {\n      dispatch({type: OAuthCallbackSuccess, token: response.data.token});\n    }).catch(error => {\n      dispatch({type: OAuthCallbackFailure, error: error.response.data.error});\n    });\n  }\n}\n\nexport function fetchMe() {\n  return (dispatch, getState) => {\n    const state = getState();\n    \n    if (state.auth.me.fetching || !!state.auth.me.profile) return;\n    \n    dispatch({type: FetchMeRequest});\n    \n    const token = state.auth.token;\n    \n    client.get('/api/me', {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    }).then(response => {\n      dispatch({type: FetchMeSuccess, profile: response.data});\n    }).catch(error => {\n      dispatch({type: FetchMeFailure, error: error.response.data.error});\n    });\n  }\n}\n","import React, {useState, useEffect} from 'react';\nimport {connect} from 'react-redux';\nimport PropTypes from 'prop-types';\nimport {Collapse} from 'reactstrap';\nimport cx from 'classnames';\nimport ChatInner from './ChatInner';\nimport io from 'socket.io-client';\nimport {bindActionCreators} from 'redux';\nimport {WebsocketConnected, WebsocketDisconnected, Message} from '../../store/modules/chat/constants';\nimport {fetchMessages, sendMessage} from '../../store/modules/chat/actions';\nimport {fetchMe} from '../../store/modules/auth/actions';\n\nlet socket = null;\n\nfunction Chat(props) {\n  const {\n    token, isWebsocketConnected, messages, me, isCollapsed, isFixed,\n    dispatch, fetchMessages, sendMessage, fetchMe,\n  } = props;\n  const [isOpen, setIsOpen] = useState(false);\n\n  useEffect(() => {\n    fetchMe();\n    fetchMessages();\n\n    socket = io(`?token=${token}`);\n\n    socket.on('connect', () => {\n      dispatch({type: WebsocketConnected});\n    });\n\n    socket.on('disconnect', () => {\n      dispatch({type: WebsocketDisconnected});\n    });\n\n    socket.on('message', message => {\n      dispatch({type: Message, message});\n    });\n  }, []);\n\n  function handleToggleCollapse() {\n    setIsOpen(!isOpen);\n  }\n\n  function _sendMessage(msg) {\n    socket.emit('message', msg);\n    sendMessage({\n      text: msg,\n      user: me.profile.displayName,\n      date: Date.now(),\n      id: Date.now(),\n    });\n  }\n\n  if (me.fetching || !me.profile) return null;\n\n  return (\n    <div className={cx(\"chat\", {\"fixed\": isFixed})}>\n      {isCollapsed && (\n        <div className=\"chat__header\" onClick={handleToggleCollapse}>\n           ?\n          <img src=\"/assets/icons/icon-chat-white.svg\" alt=\"icon-chat\" />\n        </div>\n      )}\n      {isCollapsed\n        ? <Collapse isOpen={isOpen}>\n          <ChatInner\n            isWebsocketConnected={isWebsocketConnected}\n            sendMessage={_sendMessage}\n            messages={messages} />\n        </Collapse>\n        : <ChatInner\n          isWebsocketConnected={isWebsocketConnected}\n          sendMessage={_sendMessage}\n          messages={messages} />\n      }\n    </div>\n  );\n}\n\nChat.propTypes = {\n  isCollapsed: PropTypes.bool,\n  isFixed: PropTypes.bool\n};\n\nfunction mapStateToProps(state) {\n  return {\n    token: state.auth.token,\n    me: state.auth.me,\n    isWebsocketConnected: state.chat.isWebsocketConnected,\n    messages: state.chat.messages,\n  };\n}\n\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    dispatch,\n    ...bindActionCreators({fetchMessages, sendMessage, fetchMe}, dispatch)\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Chat);\n","import React from \"react\";\nimport {Link} from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nconst ModalContextMenu = ({data}) => (\n  <div className=\"modal-menu\">\n    {data && data.map((item, key) => (\n      <Link to={item.src} key={key} className=\"modal-menu__item\">{item.title}</Link>\n    ))}\n  </div>\n);\n\nModalContextMenu.propTypes = {\n  data: PropTypes.array.isRequired\n};\n\nexport default ModalContextMenu;","import { useState } from 'react';\n\nconst useModal = () => {\n  const [isOpen, setIsOpen] = useState(false);\n\n  function handleToggleModal() {\n    setIsOpen(!isOpen);\n  }\n\n  return {\n    isOpen,\n    handleToggleModal,\n  }\n};\n\nexport default useModal;","import React, {useContext} from \"react\";\nimport PropTypes from 'prop-types';\nimport useModal from \"../../store/modules/helpers/useModal\";\nimport Modal from '../Modal/Modal';\nimport {Button} from 'reactstrap';\n\nconst ModalAsItem = ({context, isChat}) => {\n  const passedModalData = useContext(context);\n  const {isOpen, handleToggleModal} = useModal();\n  return (\n    <>\n      <Modal\n        title={passedModalData.title}\n        content={passedModalData.modalComponent}\n        isBackBtn\n        isCloseBtn\n        isOpen={isOpen}\n        handleToggleModal={handleToggleModal}\n      />\n      <Button color=\"link\" className=\"modal-menu__item is-submenu w-100\"\n              onClick={handleToggleModal}\n      >\n        {passedModalData.title} {isChat && <img src=\"assets/icons/icon-chat.svg\" alt=\"\"/>}\n      </Button>\n    </>\n  )\n};\n\nModalAsItem.propTypes = {\n  context: PropTypes.object.isRequired,\n  isChat: PropTypes.bool\n};\n\nexport default ModalAsItem;","import React, {useState} from 'react';\nimport {withRouter, Link} from 'react-router-dom';\n\nimport Chat from '../Chat/Chat';\nimport ModalContextMenu from '../ModalContextMenu';\nimport ModalAsItem from './ModalAsItem';\nimport {Form, Input, FormGroup, Button} from 'reactstrap';\n\n// Create a Context\nconst OpeningModalContext = React.createContext();\n\n// Create modal provider\nconst ModalProvider = ({item}) => (\n  <OpeningModalContext.Provider value={item}>\n    <ModalAsItem context={OpeningModalContext} isChat={item.isChat} />\n  </OpeningModalContext.Provider>\n);\n\nconst ModalMenu = ({token, categories, history}) => {\n  const [query, setQuery] = useState('');\n  \n  function onSearch(event) {\n    event.preventDefault();\n    if (!query.length) return;\n    history.push(`/search?query=${query}`);\n  }\n  \n  return (\n    <div className=\"modal-menu\">\n      {!token &&\n      <React.Fragment>\n        <Link to=\"/login\" className=\"modal-menu__item\"></Link>\n        <Link to=\"/register\" className=\"modal-menu__item\"></Link>\n      </React.Fragment>\n      }\n      {!!token &&\n      <ModalProvider item={{\n        title: \" ?\",\n        modalComponent: <Chat />,\n        isChat: true,\n      }} />\n      }\n      <div className=\"modal-menu__item\">\n        <Form inline>\n          <FormGroup style={{marginBottom: 0}}>\n            <Input\n              type=\"text\"\n              name=\"query\"\n              value={query}\n              onChange={e => setQuery(e.target.value)}\n              placeholder=\"\" />\n          </FormGroup>\n          <Button onClick={onSearch}></Button>\n        </Form>\n      </div>\n      <h3 className=\"h6 mb-0 modal-menu__title\"></h3>\n      {categories.map(category => {\n        const item = {\n          title: category.title,\n          modalComponent: <ModalContextMenu data={category.subcategories.map(subcategory => ({\n            title: subcategory.title,\n            src: `/category/${subcategory.id}`\n          }))} />,\n          isChat: false\n        };\n      \n        return (\n          <ModalProvider key={category.id} item={item} />\n        );\n      })}\n    </div>\n  );\n}\n\nexport default withRouter(ModalMenu);\n","import {\n  FetchCategoriesRequest, FetchCategoriesSuccess, FetchCategoriesFailure\n} from './constants';\nimport client from '../../../network';\n\nexport function fetchCategories() {\n  return (dispatch, getState) => {\n    const state = getState();\n    \n    if (state.categories.length !== 0) return;\n    \n    dispatch({type: FetchCategoriesRequest});\n    \n    client.get('/api/categories')\n      .then(response => {\n        dispatch({type: FetchCategoriesSuccess, categories: response.data.categories});\n      }).catch(error => {\n        dispatch({type: FetchCategoriesFailure, error: error.response.data.error});\n      });\n  }\n}\n","import React, {useState, useEffect} from 'react';\nimport {Link} from 'react-router-dom';\nimport {connect} from 'react-redux';\nimport Modal from './Modal/Modal';\nimport ModalMenu from './ModalMenu/ModalMenu';\nimport { withRouter } from 'react-router';\nimport queryString from 'query-string';\nimport {fetchCategories} from '../store/modules/categories/actions';\nimport { Collapse,\n  Navbar,\n  NavbarToggler,\n  Nav,\n  NavItem,\n  Form,\n  Input,\n  Button } from 'reactstrap';\nimport useModal from '../store/modules/helpers/useModal';\n\nfunction Header({token, categories, fetchCategories, history, location}) {\n  const values = queryString.parse(location.search);\n  const {isOpen, handleToggleModal} = useModal();\n  const [isOpenMenu, setIsOpenMenu] = useState(false);\n  const [query, setQuery] = useState(values.query || '');\n  \n  useEffect(() => {\n    if (query !== values.query) {\n      setQuery(values.query || '');\n    }\n\n    if (isOpen) handleToggleModal();\n  }, [location.search]);\n  \n  useEffect(() => {\n    if (isOpen) handleToggleModal();\n  }, [location.pathname]);\n  \n  useEffect(() => {\n    fetchCategories();\n  }, []);\n\n  function handleToggleHeaderMenu() {\n    setIsOpenMenu(!isOpenMenu);\n  }\n  \n  function search(event) {\n    event.preventDefault();\n    history.push(`/search?query=${query}`);\n  }\n  \n  function logout(e) {\n    e.preventDefault();\n    localStorage.removeItem('token');\n    window.location.href = \"/\";\n  }\n\n  return (\n    <header>\n      <Navbar light expand=\"lg\">\n        <div className=\"container\">\n          <div>\n            <NavbarToggler onClick={handleToggleHeaderMenu} className=\"d-none d-md-inline-flex d-lg-none\">\n              <img src=\"/assets/icons/icon-menu.svg\" alt=\"menu icon\"/>\n            </NavbarToggler>\n            <Modal\n              title=\"\"\n              content={<ModalMenu token={token} categories={categories} />}\n              id=\"xsMenuModal\"\n              isCloseBtn\n              isOpen={isOpen}\n              handleToggleModal={handleToggleModal}\n            />\n            <NavbarToggler onClick={handleToggleModal} className=\"d-inline-flex d-md-none\">\n              <img src=\"/assets/icons/icon-menu.svg\" alt=\"menu icon\"/>\n            </NavbarToggler>\n            <Link to=\"/\" className=\"navbar-brand\"><strong>AnyShop</strong></Link>\n          </div>\n\n          <Collapse isOpen={isOpenMenu} navbar>\n            <Nav className=\"mr-auto\" navbar>\n              <NavItem>\n                <Form onSubmit={search} inline className=\"my-2 my-md-0 ml-lg-5\">\n                  <Input\n                    className=\"form-control mr-sm-2\"\n                    type=\"text\"\n                    placeholder=\"\"\n                    aria-label=\"Search\"\n                    value={query}\n                    onChange={event => setQuery(event.target.value)}\n                  />\n                  <Button type=\"submit\" color=\"primary\" outline></Button>\n                </Form>\n              </NavItem>\n            </Nav>\n            {!token &&\n            <div>\n              <Link to=\"/login\" className=\"text-muted\"></Link>\n              {' | '}\n              <Link to=\"/register\" className=\"text-muted\"></Link>\n            </div>\n            }\n            {!!token &&\n              <a onClick={logout} href=\"#\" className=\"text-muted\"></a>\n            }\n          </Collapse>\n        </div>\n      </Navbar>\n    </header>\n  );\n}\n\nfunction mapStateToProps(state) {\n  return {\n    token: state.auth.token,\n    categories: state.categories,\n  };\n}\n\nconst mapDispatchToProps = { fetchCategories };\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Header));\n","import React from 'react';\nimport {Link} from 'react-router-dom';\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <div className=\"container\">\n        <div className=\"footer-inner\">\n          <div className=\"footer-menu\">\n            <Link to=\"#\" className=\"text-muted\"> </Link>\n            <span className=\"d-none d-md-inline-flex footer-menu-separator\">|</span>\n            <Link to=\"#\" className=\"text-muted\"></Link>\n            <span className=\"d-none d-md-inline-flex footer-menu-separator\">|</span>\n            <Link to=\"#\" className=\"text-muted\">Cookies</Link>\n            <span className=\"d-none d-md-inline-flex footer-menu-separator\">|</span>\n            <Link to=\"#\" className=\"text-muted\"></Link>\n          </div>\n          <div>\n             1998-2019, AnyShop.com, Inc.\n          </div>\n        </div>\n      </div>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React from 'react';\nimport {connect} from 'react-redux';\n\nimport Header from './Header';\nimport Footer from './Footer';\nimport Chat from './Chat/Chat';\n\nfunction Application({token, children}) {\n  return (\n    <React.Fragment>\n      <Header />\n      <main role=\"main\">\n        {!!token && (\n          <div className=\"d-none d-lg-block\">\n            <Chat isFixed isCollapsed />\n          </div>\n        )}\n        {children}\n      </main>\n      <Footer />\n    </React.Fragment>\n  );\n}\n\nfunction mapStateToProps(state) {\n  return { token: state.auth.token };\n}\n\nexport default connect(mapStateToProps)(Application);\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Dropdown, DropdownToggle, DropdownMenu, DropdownItem } from 'reactstrap';\nimport {Link} from 'react-router-dom';\n\nconst ListGroupMenuDropdown = ({dropdownTitle, dropdownItems}) => {\n    const [isOpen, setToggleState] = useState(false);\n\n    const handleToggleDropdown = () => {\n        setToggleState(!isOpen);\n    };\n\n    return (\n        <Dropdown isOpen={isOpen} toggle={handleToggleDropdown}>\n            <DropdownToggle caret tag=\"a\" className=\"nav-link\">\n                { dropdownTitle }\n            </DropdownToggle>\n            <DropdownMenu>\n                { dropdownItems.map((item, key) => (\n                  <DropdownItem key={key}>\n                    <Link key={item.id} to={`/category/${item.id}`}>\n                      {item.title}\n                    </Link>\n                  </DropdownItem>\n                )) }\n            </DropdownMenu>\n        </Dropdown>\n    )\n};\n\nListGroupMenuDropdown.propTypes = {\n    dropdownTitle: PropTypes.string,\n    dropdownItems: PropTypes.array\n};\n\nexport default ListGroupMenuDropdown;\n","import React from 'react';\nimport { ListGroup, ListGroupItem } from 'reactstrap';\nimport ListGroupMenuDropdown from './Dropdown';\n\nconst ListGroupMenu = ({ categories }) => {\n    return (\n        <div className=\"d-none d-md-block\">\n            <div className=\"backdrop\"></div>\n            <ListGroup className=\"sidebar\">\n                {categories.map(category => {\n                    return (\n                      <ListGroupItem key={category.id}>\n                          <ListGroupMenuDropdown dropdownTitle={category.title} dropdownItems={category.subcategories} />\n                      </ListGroupItem>\n                    );\n                })}\n            </ListGroup>\n        </div>\n    )\n};\n\nexport default ListGroupMenu;\n","import React, { Component } from 'react';\n\nimport {\n    Carousel,\n    CarouselItem,\n    CarouselControl,\n    CarouselIndicators\n} from 'reactstrap';\n\nimport { Link } from 'react-router-dom';\n\nconst items = [\n    {\n        id: '0',\n        originalTitle: '  ',\n        src: '/assets/images/default-slide-img.jpg',\n        altText: '',\n        captionTitle: ' ',\n        captionBtnText: ' ',\n        captionBtnIconSrc: '/assets/icons/icon-angle-white.svg'\n    },\n    {\n        id: '1',\n        originalTitle: 'LCD ',\n        src: '/assets/images/default-slide-img.jpg',\n        altText: 'Slide 2',\n        captionTitle: ' LCD ',\n        captionBtnText: ' ',\n        captionBtnIconSrc: '/assets/icons/icon-angle-white.svg'\n    },\n    {\n        id: '2',\n        originalTitle: '  ',\n        src: '/assets/images/default-slide-img.jpg',\n        altText: 'Slide 3',\n        captionTitle: ' ',\n        captionBtnText: ' ',\n        captionBtnIconSrc: '/assets/icons/icon-angle-white.svg'\n    }\n];\n\nclass HomeCarousel extends Component {\n    constructor(props) {\n        super(props);\n        this.state = { activeIndex: 0 };\n        this.next = this.next.bind(this);\n        this.previous = this.previous.bind(this);\n        this.goToIndex = this.goToIndex.bind(this);\n        this.onExiting = this.onExiting.bind(this);\n        this.onExited = this.onExited.bind(this);\n    }\n\n    onExiting() {\n        this.animating = true;\n    }\n\n    onExited() {\n        this.animating = false;\n    }\n\n    next() {\n        if (this.animating) return;\n        const nextIndex = this.state.activeIndex === items.length - 1 ? 0 : this.state.activeIndex + 1;\n        this.setState({ activeIndex: nextIndex });\n    }\n\n    previous() {\n        if (this.animating) return;\n        const nextIndex = this.state.activeIndex === 0 ? items.length - 1 : this.state.activeIndex - 1;\n        this.setState({ activeIndex: nextIndex });\n    }\n\n    goToIndex(newIndex) {\n        if (this.animating) return;\n        this.setState({ activeIndex: newIndex });\n    }\n\n    render() {\n        const { activeIndex } = this.state;\n        const { categories } = this.props;\n        \n        const slides = items.map((item) => {\n            const subcategory = categories.reduce((result, category) => {\n                if (result) return result;\n                const s = category.subcategories.find(({title}) => title === item.originalTitle);\n                if (s) return s;\n                return result;\n            }, null);\n            \n            return (\n                <CarouselItem\n                    onExiting={this.onExiting}\n                    onExited={this.onExited}\n                    key={item.id}\n                >\n                    <img src={item.src} alt={item.altText} className=\"third-slide\" />\n                    <div className=\"container\">\n                        <div className=\"carousel-caption\">\n                            <h3 className=\"h1\">{ item.captionTitle }</h3>\n                            <div>\n                                <Link className=\"btn\" to={ `/category/${subcategory.id}` } role=\"button\">\n                                    { item.captionBtnText }\n                                    <img src={ item.captionBtnIconSrc } className=\"ml-3\" alt=\"\" />\n                                </Link>\n                            </div>\n                        </div>\n                    </div>\n                </CarouselItem>\n            );\n        });\n\n        return (\n            <Carousel\n                activeIndex={activeIndex}\n                next={this.next}\n                previous={this.previous}\n                className=\"main-carousel\"\n            >\n                <CarouselIndicators items={items} activeIndex={activeIndex} onClickHandler={this.goToIndex} />\n                {slides}\n                <CarouselControl direction=\"prev\" directionText=\"Previous\" onClickHandler={this.previous} />\n                <CarouselControl direction=\"next\" directionText=\"Next\" onClickHandler={this.next} />\n            </Carousel>\n        );\n    }\n}\n\nexport default HomeCarousel;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {Link} from 'react-router-dom';\nimport {Card, CardTitle, CardText, CardImg, CardBody} from 'reactstrap';\nimport cx from 'classnames';\n\nconst CardComponent = ({url, cardTitle, cardImgSrc, cardRate, cardRateAmount, cardPrice, cardOldPrice, discount}) => (\n  <Card tag={Link} to={url}>\n    <div className=\"card-img-wrap\">\n      <CardImg width=\"100%\" className=\"card-img-top\" src={cardImgSrc} alt=\"Card image cap\"/>\n    </div>\n    <CardBody>\n      <CardTitle>{cardTitle}</CardTitle>\n      <div className=\"flex-grow\"></div>\n      <CardText className={cx(\"price-text\")}>\n        {cardPrice}\n      </CardText>\n    </CardBody>\n  </Card>\n);\n\nCardComponent.propTypes = {\n  cardTitle: PropTypes.string,\n  cardImgSrc: PropTypes.string,\n  cardRate: PropTypes.bool,\n  cardRateAmount: PropTypes.string,\n  cardPrice: PropTypes.string,\n  cardOldPrice: PropTypes.string,\n  discount: PropTypes.bool\n};\n\nexport default CardComponent;\n","import React from 'react';\nimport { CardDeck } from 'reactstrap';\n\nimport CardExample from './Card';\n\nconst formatter = new Intl.NumberFormat('ru-RU', { style: 'currency', currency: 'RUB' });\n\nfunction Recommendations({ items }) {\n  return (\n    <React.Fragment>\n      <h3 className=\"section-title\">   </h3>\n      <CardDeck className=\"homepage-cards\">\n        {items.map(item => {\n          return (\n            <CardExample\n              key={item.id}\n              url={`/product/${item.id}`}\n              cardTitle={item.title}\n              cardImgSrc={item.images[0]}\n              cardRate={true}\n              cardRateAmount=\"121\"\n              cardPrice={formatter.format(item.price)}\n              cardOldPrice=\"250\"\n              discount={true}\n            />\n          );\n        })}\n      </CardDeck>\n    </React.Fragment>\n  );\n}\n\nexport default Recommendations;\n","import React from 'react';\n\nexport default function Loader() {\n  return (\n    <div className=\"container\">\n      <h2>Loading...</h2>\n    </div>\n  );\n}\n","import {\n  FetchRecommendationsRequest, FetchRecommendationsSuccess, FetchRecommendationsFailure,\n  FetchProductsByCategoryRequest, FetchProductsByCategorySuccess, FetchProductsByCategoryFailure,\n  FetchProductsByQueryRequest, FetchProductsByQuerySuccess, FetchProductsByQueryFailure,\n  FetchProductByIdRequest, FetchProductByIdSuccess, FetchProductByIdFailure,\n} from './constants';\nimport client from '../../../network';\nimport get from 'lodash/get';\n\nexport function fetchRecommendations() {\n  return (dispatch, getState) => {\n    const state = getState();\n\n    if (state.products.recommendations.length !== 0) return;\n    \n    dispatch({type: FetchRecommendationsRequest});\n    \n    client.get('/api/recommendations')\n      .then(response => {\n        dispatch({type: FetchRecommendationsSuccess, recommendations: response.data.recommendations});\n      }).catch(error => {\n      dispatch({type: FetchRecommendationsFailure, error: error.response.data.error});\n    });\n  }\n}\n\nexport function fetchProductsByCategory(category) {\n  return (dispatch, getState) => {\n    const state = getState();\n    \n    if (state.products.byCategory[category]) return;\n    \n    dispatch({type: FetchProductsByCategoryRequest, category});\n    \n    client.get('/api/products', { params: { subcategory: category } })\n      .then(response => {\n        dispatch({type: FetchProductsByCategorySuccess, category, products: response.data.products});\n      }).catch(error => {\n      dispatch({type: FetchProductsByCategoryFailure, category, error: error.response.data.error});\n    });\n  }\n}\n\nexport function fetchProductsByQuery(query) {\n  return (dispatch, getState) => {\n    const state = getState();\n    \n    if (get(state, `products.byQuery[${query}].fetching`) === false) return;\n    \n    dispatch({type: FetchProductsByQueryRequest, query});\n    \n    client.get('/api/products', { params: { query } })\n      .then(response => {\n        dispatch({type: FetchProductsByQuerySuccess, query, products: response.data.products});\n      }).catch(error => {\n      dispatch({type: FetchProductsByQueryFailure, query, error: error.response.data.error});\n    });\n  }\n}\n\nexport function fetchProductById(id) {\n  return (dispatch, getState) => {\n    const state = getState();\n    \n    if (get(state, `products.byId[${id}].fetching`) === false) return;\n    \n    dispatch({type: FetchProductByIdRequest, id});\n    \n    client.get(`/api/products/${id}`)\n      .then(response => {\n        dispatch({type: FetchProductByIdSuccess, id, product: response.data.product});\n      }).catch(error => {\n      dispatch({type: FetchProductByIdFailure, id, error: error.response.data.error});\n    });\n  }\n}\n","import React, { useEffect } from 'react';\nimport {connect} from 'react-redux';\n\nimport ListGroupMenu from './ListGroupMenu';\nimport HomeCarousel from './HomeCarousel';\nimport Recommendations from './Recommendations';\nimport Loader from './Loader';\n\nimport {fetchCategories} from '../store/modules/categories/actions';\nimport {fetchRecommendations} from '../store/modules/products/actions';\n\nfunction Home({ categories, recommendations, fetchCategories, fetchRecommendations }) {\n  useEffect(() => {\n    fetchCategories();\n    fetchRecommendations();\n  }, []);\n  \n  if (!categories.length || !recommendations.length) {\n    return <Loader />;\n  }\n  \n  return (\n    <React.Fragment>\n      <div className=\"backdrop\"/>\n      <div className=\"container\">\n        <div className=\"row flex-column-reverse flex-lg-row\">\n          <div className=\"col-lg-3\">\n            <ListGroupMenu categories={categories} />\n          </div>\n          <div className=\"col-lg-9\">\n            <HomeCarousel categories={categories} />\n          </div>\n        </div>\n      </div>\n      <div className=\"container\">\n        <div className=\"row justify-content-end\">\n          <div className=\"col-lg-9\">\n            <Recommendations items={recommendations} />\n          </div>\n        </div>\n      </div>\n    </React.Fragment>\n  )\n}\n\nfunction mapStateToProps(state) {\n  return {\n    categories: state.categories,\n    recommendations: state.products.recommendations,\n  };\n}\n\nconst mapDispatchToProps = { fetchCategories, fetchRecommendations };\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);\n","import React, { useState } from 'react';\n\nexport default function Form(props) {\n  const [state, changeState] = useState({});\n  \n  function setValue(event) {\n    changeState({\n      ...state,\n      [event.target.name]: event.target.value\n    });\n  }\n  \n  return (\n    <div className=\"container pt-5\">\n      <div className=\"row justify-content-center\">\n        <div className=\"col-md-6\">\n          <form onSubmit={(event) => props.onSubmit(event, state)}>\n            {!!props.error &&\n            <div className=\"alert alert-danger\" role=\"alert\">\n              {props.error}\n            </div>\n            }\n            <div className=\"jumbotron jumbotron-light jumbotron-form\">\n              \n              {props.fields.map(field => {\n                return (\n                  <div className=\"form-group\" key={field.id}>\n                    <label htmlFor={field.id}>{field.label}</label>\n                    <input type={field.type} className=\"form-control\" id={field.id}\n                           placeholder={field.placeholder}\n                           name={field.name}\n                           value={state[field.name] || \"\"} onChange={setValue} required />\n                  </div>\n                );\n              })}\n              \n              <button disabled={props.disabled} type=\"submit\" className=\"btn btn-primary btn-lg\">\n                {props.submitButton}\n              </button>\n              \n              <div className=\"form-footer mt-4\">\n                <props.Footer />\n              </div>\n            </div>\n          </form>\n          <div\n            className=\"h4 text-center font-weight-normal text-uppercase my-5 d-none d-lg-block\">\n          </div>\n          <div className=\"socials mb-5\">\n            <a href=\"#\" className=\"btn btn-primary btn-social -fb\">\n              <img src=\"/assets/icons/icon-facebook.svg\" alt=\"\" />\n              Facebook\n            </a>\n            <a href=\"#\" className=\"btn btn-primary btn-social -vk\">\n              <img src=\"/assets/icons/icon-vk.svg\" alt=\"\" />\n              Vkontakte\n            </a>\n            <a href=\"#\" className=\"btn btn-primary btn-social -twitter\">\n              <img src=\"/assets/icons/icon-twitter.svg\" alt=\"\" />\n              Twitter\n            </a>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React, { useState } from 'react';\nimport { connect } from 'react-redux';\nimport { Redirect, Link } from 'react-router-dom';\nimport Form from './Form';\n\nimport { login } from '../store/modules/auth/actions';\n\nconst fields = [\n  {label: 'Email', type: 'email', id: 'email', name: 'email', placeholder: 'Email'},\n  {label: '', type: 'password', id: 'password', name: 'password', placeholder: ''},\n];\n\nfunction Login({token, login, loginAction}) {\n  if (token) return <Redirect to=\"/\" />;\n  \n  function onSubmit(event, fields) {\n    event.preventDefault();\n    if (login.processing) return;\n  \n    loginAction(fields);\n  }\n  \n  return (\n    <Form\n      disabled={login.processing}\n      title=\"\"\n      error={login.error}\n      onSubmit={onSubmit}\n      fields={fields}\n      submitButton=\"\"\n      Footer={() => (\n        <React.Fragment>\n           ? <Link to=\"/register\"></Link>\n        </React.Fragment>\n      )}\n    />\n  );\n}\n\nfunction mapStateToProps(state) {\n  return { login: state.auth.login, token: state.auth.token };\n}\n\nconst mapDispatchToProps = { loginAction: login };\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);\n","import React, { useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { Redirect, Link } from 'react-router-dom';\nimport { oauthCallback } from '../store/modules/auth/actions';\n\nconst providerMap = {\n  vkontakte: 'VK',\n  fb: 'Facebook',\n  github: 'Github',\n};\n\nfunction OAuthCallback({token, oauthCallback, oauthCallbackAction, match, location}) {\n  if (token) return <Redirect to=\"/\" />;\n  \n  const params = new URLSearchParams(location.search);\n  const provider = match.params.provider;\n  \n  useEffect(() => {\n    if (params.get('error')) return;\n    oauthCallbackAction({code: params.get('code'), provider});\n  }, []);\n\n  return (\n    <main className=\"container\">\n      <div className=\"row login-form justify-content-center align-items-center\">\n        <div className=\"col col-md-6\">\n          <div className=\"text-center border border-light p-5\">\n            <p className=\"h4 mb-4\">  {providerMap[provider]}</p>\n  \n            {oauthCallback.error || params.get('error')\n              ? <React.Fragment>\n                <p className=\"text-danger\">    .</p>\n                <p className=\"text-danger\">{oauthCallback.error || \"\"}</p>\n                <Link to=\"/\"></Link>\n              </React.Fragment>\n              : <React.Fragment>\n                <p>, .</p>\n                <div className=\"spinner-border\" role=\"status\">\n                  <span className=\"sr-only\">...</span>\n                </div>\n              </React.Fragment>\n            }\n          </div>\n        </div>\n      </div>\n    </main>\n  );\n}\n\nfunction mapStateToProps(state) {\n  return { oauthCallback: state.oauthCallback, token: state.token };\n}\n\nconst mapDispatchToProps = { oauthCallbackAction: oauthCallback };\n\nexport default connect(mapStateToProps, mapDispatchToProps)(OAuthCallback);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\n\nimport Form from './Form';\nimport { register } from '../store/modules/auth/actions';\n\nconst fields = [\n  {label: 'Email', type: 'email', id: 'email', name: 'email', placeholder: 'Email'},\n  {label: '', type: 'text', id: 'displayName', name: 'displayName', placeholder: ''},\n  {label: '', type: 'password', id: 'password', name: 'password', placeholder: ''},\n];\n\nfunction Register({registration, registerAction}) {\n  if (registration.complete) {\n    return (\n      <div className=\"container pt-5\">\n      <div className=\"row justify-content-center\">\n        <div className=\"col-md-6\">\n          <div className=\"text-center border border-light p-5\">\n            <p className=\"h4 mb-4\">,  !</p>\n            <p>     .</p>\n            <p>  , ,      .</p>\n          </div>\n        </div>\n      </div>\n    </div>\n    );\n  }\n  \n  function onSubmit(event, fields) {\n    event.preventDefault();\n    if (registration.processing) return;\n  \n    registerAction(fields);\n  }\n  \n  return (\n    <Form\n      disabled={registration.processing}\n      title=\"\"\n      validated={registration.errors}\n      errors={registration.errors}\n      onSubmit={onSubmit}\n      fields={fields}\n      submitButton=\" \"\n      Footer={() => (\n        <p>  ?&nbsp;\n          <Link to=\"/login\"></Link>\n        </p>\n      )} />\n  );\n}\n\nfunction mapStateToProps(state) {\n  return { registration: state.auth.registration };\n}\n\nconst mapDispatchToProps = { registerAction: register };\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Register);\n\n","import React, { useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { Redirect, Link } from 'react-router-dom';\nimport { confirm } from '../store/modules/auth/actions';\n\nfunction Confirm({token, confirmation, confirmAction, match}) {\n  if (token) return <Redirect to=\"/\" />;\n  \n  useEffect(() => {\n    confirmAction({verificationToken: match.params.verificationToken});\n  }, []);\n\n  return (\n    <main className=\"container\">\n      <div className=\"row login-form justify-content-center align-items-center\">\n        <div className=\"col col-md-6\">\n          <div className=\"text-center border border-light p-5\">\n            <p className=\"h4 mb-4\">  </p>\n  \n            {confirmation.error\n              ? <React.Fragment>\n                <p className=\"text-danger\">    .</p>\n                <p className=\"text-danger\">{confirmation.error}</p>\n                <Link to=\"/\"></Link>\n              </React.Fragment>\n              : <React.Fragment>\n                <p>  , , .</p>\n                <div className=\"spinner-border\" role=\"status\">\n                  <span className=\"sr-only\">...</span>\n                </div>\n              </React.Fragment>\n            }\n          </div>\n        </div>\n      </div>\n    </main>\n  );\n}\n\nfunction mapStateToProps(state) {\n  return { confirmation: state.confirmation, token: state.token };\n}\n\nconst mapDispatchToProps = { confirmAction: confirm };\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Confirm);\n","import React, {useState} from 'react';\nimport {Link} from 'react-router-dom';\nimport {Collapse} from \"reactstrap\";\n\nexport default function CategoriesSideBar({category, categories}) {\n  const [selectedCategoryId, selectCategoryId] = useState(category);\n\n  return (\n    <div className=\"d-none d-lg-block col-lg-4 col-xl-3\">\n      <div id=\"accordion\" className=\"aside-accordion-menu list-group\">\n        {categories.map((category) => {\n          return (\n            <div className=\"list-group-item\" key={category.id}>\n              <h5 className=\"mb-0\" onClick={() => selectCategoryId(category.id)}>\n                {category.title} <img src=\"/assets/icons/icon-angle.svg\" alt=\"angle-right\" />\n              </h5>\n              <Collapse isOpen={selectedCategoryId === category.id}>\n                <ul>\n                  {category.subcategories.map(subcategory => {\n                    return (\n                      <li key={subcategory.id}>\n                        <Link to={`/category/${subcategory.id}`}>{subcategory.title}</Link>\n                      </li>\n                    );\n                  })}\n                </ul>\n              </Collapse>\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n}\n","import React, {useEffect, useState} from 'react';\nimport {Link} from 'react-router-dom';\nimport {connect} from 'react-redux';\nimport {fetchCategories} from '../store/modules/categories/actions';\nimport {fetchProductsByCategory} from '../store/modules/products/actions';\nimport Loader from './Loader';\nimport CategoriesSideBar from './CategoriesSideBar';\n\nconst formatter = new Intl.NumberFormat('ru-RU', { style: 'currency', currency: 'RUB' });\n\nfunction Category({ categories, products, fetchCategories, fetchProductsByCategory, match }) {\n  useEffect(() => {\n    fetchCategories();\n    fetchProductsByCategory(match.params.category);\n  }, [match.params.category]);\n  \n  const [selectedCategoryId, selectCategoryId] = useState(null);\n  const [selectedSubcategory, setSelectedSubcategory] = useState({});\n  \n  useEffect(() => {\n    for (const category of categories) {\n      const subcategory = category.subcategories.find(({id}) => id === match.params.category);\n      if (!subcategory) continue;\n      selectCategoryId(category.id);\n      setSelectedSubcategory(subcategory);\n      \n      break;\n    }\n  }, [match.params.category, categories.length]);\n\n  if (!categories.length || !products.length) {\n    return <Loader />;\n  }\n  \n  return (\n    <div className=\"container\">\n      <div className=\"row\">\n        <CategoriesSideBar categories={categories} category={selectedCategoryId} />\n        <div className=\"col-lg-8 col-xl-9\">\n          <h3 className=\"h5 mt-4 mt-md-0 pt-1 mb-4\">{selectedSubcategory.title}</h3>\n          {products.map(product => {\n            return (\n              <div className=\"product-list-box\" key={product.id}>\n                <div className=\"box-inner-col description-col\">\n                  <Link to={`/product/${product.id}`} className=\"product-img\">\n                    <img src={product.images[0]} alt=\"img\" />\n                  </Link>\n                  <div className=\"product-desc\">\n                    <h4 className=\"col-title mb-2\">\n                      <Link to={`/product/${product.id}`}>{product.title}</Link>\n                    </h4>\n                    <p className=\"price-text mb-0 mt-2 d-inline-block d-md-none\">\n                      <strong>{formatter.format(product.price)}</strong>\n                    </p>\n                  </div>\n                </div>\n                <div className=\"box-inner-col price-col\">\n                  <h4 className=\"col-title price-text mb-2\">{formatter.format(product.price)}</h4>\n                  <div>\n                    <Link to={`/checkout/${product.id}`} className=\"btn btn-primary btn-lg\"></Link>\n                  </div>\n                </div>\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction mapStateToProps(state, props) {\n  return {\n    categories: state.categories,\n    products: state.products.byCategory[props.match.params.category] || []\n  };\n}\n\nconst mapDispatchToProps = { fetchCategories, fetchProductsByCategory };\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Category);\n","import React, {useEffect} from 'react';\nimport {connect} from 'react-redux';\nimport {fetchCategories} from '../store/modules/categories/actions';\nimport {fetchProductsByQuery} from '../store/modules/products/actions';\nimport Loader from './Loader';\nimport CategoriesSideBar from './CategoriesSideBar';\nimport queryString from 'query-string';\nimport {Link} from \"react-router-dom\";\n\nconst formatter = new Intl.NumberFormat('ru-RU', { style: 'currency', currency: 'RUB' });\n\nfunction Category({ categories, products, fetchCategories, fetchProductsByQuery, location }) {\n  const values = queryString.parse(location.search);\n  \n  useEffect(() => {\n    fetchCategories();\n    fetchProductsByQuery(values.query);\n  }, [values.query]);\n  \n  if (!categories.length || !products.products) {\n    return <Loader />;\n  }\n  \n  return (\n    <div className=\"container\">\n      <div className=\"row\">\n        <CategoriesSideBar categories={categories} />\n        {products.products.length !== 0 &&\n          <div className=\"d-md-inline-flex d-lg-none col-lg-8 col-xl-9\">\n            <h4 className=\"col-title mb-2 mt-2\"> </h4>\n          </div>\n        }\n        <div className=\"col-lg-8 col-xl-9\">\n          {products.products.length === 0 &&\n            <h4 className=\"col-title mb-2 mt-2\">{`  ${values.query}    `}</h4>\n          }\n          {products.products.map(product => {\n            return (\n              <div className=\"product-list-box\" key={product.id}>\n                <div className=\"box-inner-col description-col\">\n                  <Link to={`/product/${product.id}`} className=\"product-img\">\n                    <img src={product.images[0]} alt=\"img\" />\n                  </Link>\n                  <div className=\"product-desc\">\n                    <h4 className=\"col-title mb-2\"><Link to={`/product/${product.id}`}>{product.title}</Link></h4>\n                    <p className=\"price-text mb-0 mt-2 d-inline-block d-md-none\">\n                      <strong>{formatter.format(product.price)}</strong>\n                    </p>\n                  </div>\n                </div>\n                <div className=\"box-inner-col price-col\">\n                  <h4 className=\"col-title price-text mb-2\">\n                    {formatter.format(product.price)}\n                  </h4>\n                  <div>\n                    <Link to={`/checkout/${product.id}`} className=\"btn btn-primary btn-lg\"></Link>\n                  </div>\n                </div>\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction mapStateToProps(state, props) {\n  const values = queryString.parse(props.location.search);\n  return {\n    categories: state.categories,\n    products: state.products.byQuery[values.query] || {}\n  };\n}\n\nconst mapDispatchToProps = { fetchCategories, fetchProductsByQuery };\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Category);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\n\nfunction mapToCssModules(className = '', cssModule) {\n  if (!cssModule) return className;\n  return className\n    .split(' ')\n    .map(c => cssModule[c] || c)\n    .join(' ');\n}\n\nconst CarouselIndicators = (props) => {\n  const { items, activeIndex, cssModule, onClickHandler, className } = props;\n\n  const listClasses = mapToCssModules(cx(className, 'carousel-indicators'), cssModule);\n  const indicators = items.map((item, idx) => {\n    const indicatorClasses = mapToCssModules(cx(\n      { active: activeIndex === idx }\n    ), cssModule);\n    return (\n      <li\n        key={`${item.key || Object.values(item).join('')}`}\n        onClick={(e) => {\n          e.preventDefault();\n          onClickHandler(idx);\n        }}\n        className={indicatorClasses}\n      >\n        <img src={item} alt={`indicator-img-${item.key}`} />\n      </li>);\n  });\n\n  return (\n    <ol className={listClasses}>\n      {indicators}\n    </ol>\n  );\n};\n\nCarouselIndicators.propTypes = {\n  items: PropTypes.array.isRequired,\n  activeIndex: PropTypes.number.isRequired,\n  cssModule: PropTypes.object,\n  onClickHandler: PropTypes.func.isRequired,\n  className: PropTypes.string,\n};\n\nexport default CarouselIndicators;","import React, { Component } from 'react';\n\nimport {\n  Carousel,\n  CarouselItem,\n  CarouselControl\n} from 'reactstrap';\nimport CarouselIndicators from './ProductCarouselIndicators';\n\nclass ProductCarousel extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { activeIndex: 0 };\n    this.next = this.next.bind(this);\n    this.previous = this.previous.bind(this);\n    this.goToIndex = this.goToIndex.bind(this);\n    this.onExiting = this.onExiting.bind(this);\n    this.onExited = this.onExited.bind(this);\n  }\n\n  onExiting() {\n    this.animating = true;\n  }\n\n  onExited() {\n    this.animating = false;\n  }\n\n  next() {\n    if (this.animating) return;\n    const nextIndex = this.state.activeIndex === this.props.images.length - 1 ? 0 : this.state.activeIndex + 1;\n    this.setState({ activeIndex: nextIndex });\n  }\n\n  previous() {\n    if (this.animating) return;\n    const nextIndex = this.state.activeIndex === 0 ? this.props.images.length - 1 : this.state.activeIndex - 1;\n    this.setState({ activeIndex: nextIndex });\n  }\n\n  goToIndex(newIndex) {\n    if (this.animating) return;\n    this.setState({ activeIndex: newIndex });\n  }\n\n  render() {\n    const { activeIndex } = this.state;\n\n    const slides = this.props.images.map((item, key) => {\n      return (\n        <CarouselItem\n          onExiting={this.onExiting}\n          onExited={this.onExited}\n          key={key}\n        >\n          <div className=\"img-wrap\">\n            <img src={item} alt={item.altText} />\n          </div>\n        </CarouselItem>\n      );\n    });\n\n    return (\n      <Carousel\n        activeIndex={activeIndex}\n        next={this.next}\n        previous={this.previous}\n        className=\"product-carousel\"\n        images={this.props.images}\n      >\n        <CarouselIndicators items={this.props.images} activeIndex={activeIndex} onClickHandler={this.goToIndex} />\n        {slides}\n        <CarouselControl direction=\"prev\" directionText=\"Previous\" onClickHandler={this.previous} />\n        <CarouselControl direction=\"next\" directionText=\"Next\" onClickHandler={this.next} />\n      </Carousel>\n    );\n  }\n}\n\nexport default ProductCarousel;\n","import React, {useEffect} from 'react';\nimport {Link} from 'react-router-dom';\nimport {connect} from 'react-redux';\nimport {fetchProductById} from '../../store/modules/products/actions';\nimport Loader from '../Loader';\nimport ProductCarousel from './ProductCarousel';\n\nconst formatter = new Intl.NumberFormat('ru-RU', { style: 'currency', currency: 'RUB' });\n\nfunction Product({ product, fetchProductById, match }) {\n  useEffect(() => {\n    fetchProductById(match.params.id);\n  }, [match.params.id]);\n\n  if (product.fetching || !product.product) {\n    return <Loader />;\n  }\n\n  return (\n    <div className=\"container\">\n      <div className=\"row\">\n        <div className=\"col-lg-5\">\n          <ProductCarousel images={product.product.images} />\n        </div>\n        <div className=\"col-lg-7\">\n          <div className=\"product-info\">\n            <h3 className=\"h5\">{product.product.title}</h3>\n            <div className=\"row flex-column-reverse flex-lg-row\">\n              <div className=\"col-md-7\">\n                <p className=\"d-none d-lg-block\">\n                  {product.product.description}\n                </p>\n              </div>\n              <div className=\"col-md-5\">\n                <h4 className=\"col-title price-text mb-2 mt-0\">{formatter.format(product.product.price)}</h4>\n                <Link to={`/checkout/${product.product.id}`} className=\"btn btn-primary btn-lg\"></Link>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction mapStateToProps(state, props) {\n  return {\n    product: state.products.byId[props.match.params.id] || {}\n  };\n}\n\nconst mapDispatchToProps = { fetchProductById };\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Product);\n","import React, {useEffect, useState} from 'react';\nimport { Alert, Form, FormGroup, Input, Label, Button } from 'reactstrap';\nimport {fetchProductById} from '../store/modules/products/actions';\nimport {checkout} from '../store/modules/orders/actions';\nimport {fetchMe} from '../store/modules/auth/actions';\nimport {connect} from 'react-redux';\nimport Loader from './Loader';\n\nconst formatter = new Intl.NumberFormat('ru-RU', { style: 'currency', currency: 'RUB' });\n\nfunction Checkout({ token, product, draft, me, fetchProductById, fetchMe, checkout, match, history }) {\n  useEffect(() => {\n    if (!token) return history.replace('/login');\n  }, []);\n  \n  useEffect(() => {\n    fetchMe();\n    fetchProductById(match.params.id);\n  }, [match.params.id]);\n  \n  const [state, setState] = useState('initial'); // 'pending'|'complete'\n  \n  const [phone, setPhone] = useState('+71111212123');\n  const [address, setAddress] = useState(' , , ');\n  \n  useEffect(() => {\n    if (draft.fetching === true) {\n      setState('pending');\n      return;\n    }\n    \n    if (!!draft.errors && state === 'pending') {\n      setState('initial');\n      return;\n    }\n    \n    if (!draft.errors && state === 'pending') {\n      setState('complete');\n    }\n  }, [draft]);\n  \n  function onSubmit(event) {\n    event.preventDefault();\n    checkout({\n      product: match.params.id,\n      phone, address,\n    });\n  }\n  \n  if (product.fetching || !product.product || me.fetching || !me.profile) {\n    return <Loader />;\n  }\n\n  return (\n    <div className=\"container\">\n      <div className=\"row justify-content-center\">\n        <div className=\"col-lg-10\">\n          <Form onSubmit={onSubmit}>\n            <h3 className=\"h5 mb-4 mt-4 text-md-center\"> </h3>\n            {!!draft.errors && Object.keys(draft.errors).map(error => (\n              <Alert color=\"warning\" key={error}>{draft.errors[error]}</Alert>\n            ))}\n            {state === 'complete' &&\n              <Alert color=\"primary\">\n                   .   email  .\n              </Alert>\n            }\n            <div className=\"product-list-box\">\n              <div className=\"box-inner-col description-col\">\n                <div className=\"product-img\">\n                  <img src={product.product.images[0]} alt=\"img\" />\n                </div>\n                <div className=\"product-desc\">\n                  <h4 className=\"col-title mb-2\">{product.product.title}</h4>\n                  <p className=\"price-text mb-0 mt-2 d-inline-block d-md-none\">\n                    <strong>{formatter.format(product.product.price)}</strong>\n                  </p>\n                </div>\n              </div>\n              <div className=\"box-inner-col price-col justify-content-center\">\n                <p className=\"mb-0 font-weight-light\">Total:</p>\n                <h4 className=\"col-title price-text mb-2\">{formatter.format(product.product.price)}</h4>\n              </div>\n            </div>\n            <h3 className=\"h5 mb-4 mt-5 text-md-center\"> </h3>\n            <div className=\"jumbotron jumbotron-light jumbotron-form mb-0\">\n              <div className=\"row\">\n                <div className=\"col-md-6\">\n                  <FormGroup>\n                    <Label for=\"exampleInput\">:</Label>\n                    <Input disabled value={me.profile.displayName} type=\"text\" className=\"form-control\" id=\"exampleInput\" />\n                  </FormGroup>\n                  <FormGroup className=\"mb-4\">\n                    <Label for=\"exampleInput2\">Email:</Label>\n                    <input disabled value={me.profile.email} type=\"email\" className=\"form-control\" id=\"exampleInput2\" />\n                  </FormGroup>\n                </div>\n                <div className=\"col-md-6\">\n                  <FormGroup>\n                    <Label for=\"exampleInput3\">:</Label>\n                    <input value={phone} type=\"text\" className=\"form-control\" id=\"exampleInput3\"\n                           disabled={state === 'complete'}\n                           onChange={e => setPhone(e.target.value)}\n                           placeholder=\"+7 111 12 12 123\"/>\n                  </FormGroup>\n                  <FormGroup className=\"mb-4\">\n                    <Label for=\"exampleInput4\">:</Label>\n                    <Input value={address} type=\"text\" className=\"form-control\" id=\"exampleInput4\"\n                           onChange={e => setAddress(e.target.value)}\n                           disabled={state === 'complete'}\n                           placeholder=\" , , \"/>\n                  </FormGroup>\n                </div>\n              </div>\n            </div>\n            <div className=\"text-center mt-2 mb-5 my-sm-5\">\n              <Button disabled={state === 'complete'} type=\"submit\" color=\"primary\" size=\"lg\">\n                  \n              </Button>\n            </div>\n          </Form>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction mapStateToProps(state, props) {\n  return {\n    product: state.products.byId[props.match.params.id] || {},\n    draft: state.orders.draft,\n    me: state.auth.me,\n    token: state.auth.token,\n  };\n}\n\nconst mapDispatchToProps = { fetchProductById, fetchMe, checkout };\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Checkout);\n","import {CheckoutFailure, CheckoutRequest, CheckoutSuccess} from './constants';\nimport client from '../../../network';\n\nexport function checkout(data) {\n  return (dispatch, getState) => {\n    const state = getState();\n    const token = state.auth.token;\n  \n    dispatch({type: CheckoutRequest, data});\n    \n    client.post('/api/orders', data, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      },\n    }).then(response => {\n      dispatch({type: CheckoutSuccess, data, order: response.data.order});\n    }).catch(error => {\n      dispatch({type: CheckoutFailure, data, errors: error.response.data.errors});\n    });\n  };\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter, Route } from 'react-router-dom';\n\nimport * as serviceWorker from './serviceWorker';\nimport store from './store';\nimport Application from './components/Application';\nimport Home from './components/Home';\nimport Login from './components/Login';\nimport OAuthCallback from './components/OAuthCallback';\nimport Register from './components/Register';\nimport Confirm from './components/Confirm';\nimport Category from './components/Category';\nimport Search from './components/Search';\nimport Product from './components/Product/Product';\nimport Checkout from './components/Checkout';\n\nReactDOM.render(\n  <Provider store={store}>\n    <BrowserRouter>\n      <Application>\n        <Route exact path=\"/\" component={Home} />\n        <Route path=\"/login\" component={Login} />\n        <Route path=\"/oauth/:provider\" component={OAuthCallback} />\n        <Route path=\"/register\" component={Register} />\n        <Route path=\"/confirm/:verificationToken\" component={Confirm} />\n        <Route path=\"/category/:category\" component={Category} />\n        <Route path=\"/search\" component={Search} />\n        <Route path=\"/product/:id\" component={Product} />\n        <Route path=\"/checkout/:id\" component={Checkout} />\n      </Application>\n    </BrowserRouter>\n  </Provider>,\n  document.getElementById('root')\n);\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}